{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0b9a327c5ed141a2cdc2","webpack:///./src/rest-client.js","webpack:///./~/minivents/dist/minivents.commonjs.min.js"],"names":["encodeUrl","data","res","k","encodeURIComponent","substr","length","safe","func","e","console","error","name","log","mergeParams","params","merged","forEach","param","filterParams","value","Object","keys","undefined","extendObject","target","object","bindFn","context","apply","arguments","RestClient","host","options","conf","resource","currentOptions","_opts","transport","trailing","shortcut","shortcutRules","contentType","encode","JSON","stringify","decode","parse","definition","match","client","fn","parent","id","RegExp","test","call","on","extend","method","url","headers","indexOf","replace","mime","constructor","parameters","Transports","ctx","baseParams","paramsFn","self","newId","_clone","_resources","_shortcuts","_parent","_headers","_params","prefix","copy","resName","resources","makeRes","r","shortcutName","customShortcut","rule","String","Array","map","execute","isArray","getHeaders","_request","_execute","args","concat","baseUrl","getParams","query","filter","emit","join","use","shift","scope","pop","path","setParams","key","setHeaders","header","def","get","post","put","patch","delete","module","exports","xhr","XMLHttpRequest","open","setRequestHeader","p","Promise","resolve","reject","onreadystatechange","readyState","handleResponse","setTimeout","send","$","jqueryAjax","beforeSend","done","textStatus","fail","errorThrown","handleResponseFail","response","status","responseText","responseHeader","getResponseHeader","responseContentType","split","off","responseEvent"],"mappings":"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","file":"rest-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0b9a327c5ed141a2cdc2","import Events from 'minivents'\n\nfunction encodeUrl(data) {\n    let res = '';\n    for (let k in data)\n        res += encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) + '&';\n    return res.substr(0, res.length - 1);\n}\n\nfunction safe(func, data) {\n    try {\n        return func(data);\n    }\n    catch(e) {\n        console.error('Error in function \"' + func.name + '\" while decode/encode data');\n        console.log(func);\n        console.log(data);\n        console.log(e);\n        return data;\n    }\n}\n\nfunction mergeParams(params) {\n    let merged = {};\n    params.forEach(function(param) {\n        if (typeof param === 'object') {\n            Object.assign(merged, param);\n        }\n    });\n    return [merged];\n}\n\nfunction filterParams(value) {\n    if (typeof value === 'object') {\n        return Object.keys(value).length !== 0;\n    } else {\n        return value !== undefined;\n    }\n}\n\nfunction extendObject(target, object) {\n    for (let k in object) {\n        if (typeof object[k] === 'function') {\n            target[k] = bindFn(object[k], target);\n        } else {\n            target[k] = object[k];\n        }\n    }\n}\n\nfunction bindFn(func, context) {\n    return function() {\n        return func.apply(context, arguments);\n    };\n}\n\nclass RestClient {\n    constructor(host, options) {\n        this.host = host;\n        this.conf(options);\n\n        new Events(this);\n\n        // resource must be super class of RestClient\n        // but fucking js cannot into callable objects, so...\n        // After this call all resource methods will be defined\n        // on current RestClient instance (this behaviour affected by last parameter)\n        // At least this parameters are symmetric :D\n        resource(this, undefined, '', undefined, this);\n    }\n\n    conf(options={}) {\n        let currentOptions = this._opts || {\n            transport: 'default',\n            trailing: '',\n            shortcut: true,\n            shortcutRules: [],\n            mergeParams: true,\n            contentType: 'application/json',\n            'application/x-www-form-urlencoded': {encode: encodeUrl},\n            'application/json': {encode: JSON.stringify, decode: JSON.parse}\n        };\n\n        this._opts = Object.assign(currentOptions, options);\n\n        return Object.assign({}, this._opts);\n    }\n    \n    extend(definition, match) {\n        const client = this;\n        let fn = (resource, parent, name, id) => true;\n        if (typeof match === 'string') {\n            fn = (resource, parent, name, id) => name === match;\n        } else if (match instanceof RegExp) {\n            fn = (resource, parent, name, id) => match.test(name);\n        } else if (match === 'function') {\n            fn = (resource, parent, name, id) => match.call(client, resource, parent, name, id);\n        }\n        this.on('resource', (resource, parent, name, id) => {\n            if (fn(resource, parent, name, id)) {\n                resource.extend(definition);\n            }\n        });\n    }\n\n    _request(method, url, data=null, headers={}, contentType=null) {\n        if (url.indexOf('?') === -1) {\n            url += this._opts.trailing;\n        } else {\n            url = url.replace('?', this._opts.trailing + '?');\n        }\n        \n        if (contentType) {\n            let mime = this._opts[contentType];\n            if (mime && mime.encode)\n                data = safe(mime.encode, data);\n            if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData'))\n                headers['Content-Type'] = contentType;\n        }\n        \n        let parameters = {\n            method: method,\n            data: data,\n            url: this.host + url,\n            contentType: contentType,\n            headers: headers\n        };\n        \n        const transport = RestClient.Transports[this._opts.transport];\n        return transport(this, parameters, this._opts);\n    }\n}\n\nfunction resource(client, parent, name, id, ctx, baseParams = {}, paramsFn) {\n    let self = ctx ? ctx : (newId, params) => {\n        if (typeof newId === 'object') {\n            params = Object.assign({}, newId);\n            newId = undefined;\n        } else if (newId === undefined) {\n            return self;\n        }\n        return self._clone(parent, newId, undefined, params);\n    };\n    \n    self._resources = {};\n    self._shortcuts = {};\n    self._parent = parent;\n    self._headers = {};\n    self._params = {};\n    \n    self._clone = (parent, newId, prefix, params, fn) => {\n        let merged = Object.assign({}, baseParams, params);\n        let copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n        copy._shortcuts = self._shortcuts;\n        for (let resName in self._resources) {\n            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n            if (resName in copy._shortcuts)\n                copy[resName] = copy._resources[resName];\n        }\n        return copy;\n    };\n\n    self.res = (resources, shortcut=client._opts.shortcut, params, paramsFn) => {\n        let makeRes = (resName) => {\n            let options = {};\n            let _params = Object.assign({}, params);\n            if (typeof resName === 'object' && typeof resName.name === 'string') {\n                options = Object.assign(options, resName);\n                resName = options.name;\n                if (options.shortcut !== undefined) shortcut = options.shortcut;\n                _params = Object.assign({}, options.params, _params);\n                paramsFn = options.paramsFn || paramsFn;\n            }\n            \n            if (resName in self._resources)\n                return self._resources[resName];\n            \n            let r = resource(client, self, resName, undefined, undefined, _params, paramsFn);\n            \n            self._resources[resName] = r;\n            if (shortcut) {\n                let shortcutName = typeof shortcut === 'string' ? shortcut : resName;\n                self._shortcuts[shortcutName] = r;\n                self[shortcutName] = r;\n                client._opts.shortcutRules.forEach(rule => {\n                    let customShortcut = rule(resName);\n                    if (customShortcut && typeof customShortcut === 'string') {\n                        self._shortcuts[customShortcut] = r;\n                        self[customShortcut] = r;\n                    }\n                });\n            }\n            \n            if (options.resources) r.res(options.resources); // Nested\n            \n            return r;\n        };\n\n        // (resources instanceof String) don't work. Fuck you, javascript.\n        if (resources.constructor === String)\n            return makeRes(resources);\n\n        if (resources instanceof Array)\n            return resources.map(makeRes);\n\n        if (resources instanceof Object) {\n            let res = {};\n            for (let resName in resources) {\n                let r = makeRes(resName);\n                if (resources[resName]) {\n                    r.res(resources[resName]);\n                }\n                res[resName] = r;\n            }\n            return res;\n        }\n    };\n\n    self.execute = (method, data, params, headers, contentType = client._opts.contentType) => {\n        if (typeof headers === 'string') {\n            contentType = headers;\n            headers = {};\n        } else if (typeof params === 'string') {\n            contentType = params;\n            params = {};\n        }\n        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n        headers = Object.assign({}, self.getHeaders(), headers);\n        return client._request(method, url, data, headers, contentType);\n    };\n\n    self._execute = (method, args) => {\n        return self.execute.apply(self, [method].concat(args));\n    };\n    \n    self.baseUrl = function() {\n        let url = parent ? parent.baseUrl() : '';\n        if (name) url += '/' + name;\n        if (id !== undefined) url += '/' + id;\n        return url;\n    };\n\n    self.url = (...args) => {\n        let url = self.baseUrl();\n        let params = [self.getParams()].concat(args);\n        if (client._opts.mergeParams) params = mergeParams(params);\n        const query = params.filter(filterParams).map((param) => {\n            client.emit('params', param, self, parent, name, id);\n            return encodeUrl(param);\n        }).join('&');\n        if (query) url += '?' + query;\n        return url;\n    };\n    \n    self.use = (...args) => {\n        const resName = args.shift();\n        let resource;\n        if (Array.isArray(resName) || typeof resName === 'number') {\n            resource = self.apply(self, [].concat(resName));\n        } else {\n            resource = self[resName];\n        }\n        if (typeof resource === 'function' &&\n            typeof resource.use === 'function' && args.length > 0) {\n            return resource.use.apply(resource, args);\n        } else {\n            return resource;\n        }\n    };\n    \n    self.id = (id) => {\n        return self(id);\n    },\n    \n    self.scope = (...args) => {\n        let params = {};\n        let fn;\n        if (typeof args[args.length - 1] === 'function') {\n            fn = args.pop();\n        }\n        if (typeof args[args.length - 1] === 'object') {\n            Object.assign(params, args.pop());\n        }\n        let path = args.filter(filterParams).map(encodeURIComponent).join('/');\n        if (path === '') {\n            return self._clone(parent, id, undefined, params, fn);\n        } else {\n            return self._clone(self, undefined, path, params, fn);\n        }\n    };\n    \n    self.setParams = self.param = self.params = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._params, key);\n        } else if (typeof key === 'string') {\n            self._params[key] = value;\n        }\n        return self;\n    };\n    \n    self.getParams = () => {\n        const _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n        return Object.assign({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n    };\n    \n    self.setHeaders = self.header = self.headers = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._headers, key);\n        } else if (typeof key === 'string') {\n            self._headers[key] = value;\n        }\n        return self;\n    };\n    \n    self.getHeaders = () => {\n        return Object.assign({}, parent ? parent.getHeaders() : {}, self._headers);\n    };\n\n    if (!self.extend) {\n        self.extend = (definition) => {\n            if (typeof definition === 'object') {\n                extendObject(self, definition);\n            } else if (typeof definition === 'function') {\n                const def = definition(self, parent, name, id);\n                if (def) extendObject(self, typeof def === 'object' ? def : {});\n            }\n        };\n    }\n\n    // HTTP methods\n\n    self.get = (...args) => {\n        return self.execute('GET', {}, args);\n    };\n\n    self.post = (...args) => {\n        return self._execute('POST', args);\n    };\n\n    self.put = (...args) => {\n        return self._execute('PUT', args);\n    };\n\n    self.patch = (...args) => {\n        return self._execute('PATCH', args);\n    };\n\n    self.delete = (...args) => {\n        return self._execute('DELETE', args);\n    };\n    \n    client.emit('resource', self, parent, name, id);\n    \n    return self;\n}\n\nmodule.exports = RestClient;\n\n// Transports\n\nRestClient.Transports = {};\n\nRestClient.Transports['default'] = function(client, parameters, options = {}) {\n    let { method, data, url, headers } = parameters;\n    \n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    \n    for (let k in headers) {\n        xhr.setRequestHeader(k, headers[k]);\n    }\n\n    let p = new Promise((resolve, reject) =>\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                handleResponse(client, p, xhr, parameters, options, resolve, reject);\n            }\n        }\n    );\n    \n    p.xhr = xhr;\n    new Events(p);\n    \n    setTimeout(() => {\n        client.emit('request', xhr, parameters);\n        p.emit('request', xhr, parameters);\n        xhr.send(data);\n    }, 0);\n    \n    return p;\n};\n\nRestClient.Transports['jquery'] = function(client, parameters, options = {}) {\n    let xhr = $[options.jqueryAjax || 'ajax'](Object.assign({\n        beforeSend: function(xhr) {\n            client.emit('request', xhr, parameters);\n            p.emit('request', xhr, parameters);\n        }\n    }, parameters));\n    \n    let p = new Promise((resolve, reject) => {\n        p.xhr = xhr;\n        new Events(p);\n        xhr.done(function(data, textStatus, xhr) {\n            handleResponse(client, p, xhr, parameters, options, resolve, reject, data);\n        }).fail(function(xhr, textStatus, errorThrown) {\n            handleResponseFail(client, p, xhr, parameters, options, resolve, reject, true);\n        });\n    });\n    \n    return p;\n};\n\n// Helpers\n\nfunction handleResponse(client, p, xhr, parameters, options, resolve, reject, response) {\n    client.emit('response', xhr, parameters);\n    p.emit('response', xhr, parameters);\n    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n        client.emit('success', xhr, parameters);\n        p.emit('success', xhr, parameters);\n\n        let res = response || xhr.responseText;\n        let responseHeader = xhr.getResponseHeader('Content-Type');\n        if (responseHeader) {\n            let responseContentType = responseHeader.split(';')[0];\n            let mime = options[responseContentType];\n            if (mime && mime.decode)\n                res = safe(mime.decode, res);\n        }\n        p.off();\n        resolve(res);\n    } else {\n        handleResponseFail(client, p, xhr, parameters, options, resolve, reject);\n    }\n};\n\nfunction handleResponseFail(client, p, xhr, parameters, options, resolve, reject, responseEvent) {\n    if (responseEvent) {\n        client.emit('response', xhr, parameters);\n        p.emit('response', xhr, parameters);\n    }\n    client.emit('error', xhr, parameters);\n    p.emit('error', xhr, parameters);\n    p.off();\n    reject(xhr, parameters);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest-client.js","module.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/minivents/dist/minivents.commonjs.min.js\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}