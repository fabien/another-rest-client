{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///rest-client.min.js","webpack:///webpack/bootstrap 3ec5667607756985330e?a27d","webpack:///./src/rest-client.js?6f35","webpack:///./~/minivents/dist/minivents.commonjs.min.js?7f72"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","encodeUrl","data","res","k","encodeURIComponent","substr","length","safe","func","e","console","error","name","log","mergeParams","params","merged","forEach","param","_typeof","_extends","filterParams","value","Object","keys","undefined","extendObject","target","object","bindFn","context","apply","arguments","resource","client","parent","ctx","baseParams","paramsFn","self","newId","_clone","_resources","_shortcuts","_parent","_headers","_params","prefix","fn","copy","resName","resources","shortcut","_opts","makeRes","r","shortcutRules","rule","customShortcut","constructor","String","Array","map","execute","method","headers","contentType","url","isArray","getHeaders","_request","_execute","args","concat","baseUrl","_len","_key","getParams","query","filter","emit","join","scope","_len2","_key2","pop","path","key","header","extend","definition","def","get","_len3","_key3","post","_len4","_key4","put","_len5","_key5","patch","_len6","_key6","delete","_len7","_key7","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","assign","source","hasOwnProperty","Symbol","iterator","_minivents","_minivents2","RestClient","host","options","conf","currentOptions","trailing","application/x-www-form-urlencoded","encode","application/json","JSON","stringify","decode","parse","match","RegExp","test","on","_this","indexOf","replace","xhr","XMLHttpRequest","open","mime","setRequestHeader","parameters","Promise","resolve","reject","onreadystatechange","readyState","status","response","responseHeader","getResponseHeader","responseContentType","split","off","setTimeout","send","n","t","l","push","o","u","splice","slice"],"mappings":"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","file":"rest-client.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _minivents = __webpack_require__(1);\n\t\n\tvar _minivents2 = _interopRequireDefault(_minivents);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction encodeUrl(data) {\n\t    var res = '';\n\t    for (var k in data) {\n\t        res += encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) + '&';\n\t    }return res.substr(0, res.length - 1);\n\t}\n\t\n\tfunction safe(func, data) {\n\t    try {\n\t        return func(data);\n\t    } catch (e) {\n\t        console.error('Error in function \"' + func.name + '\" while decode/encode data');\n\t        console.log(func);\n\t        console.log(data);\n\t        console.log(e);\n\t        return data;\n\t    }\n\t}\n\t\n\tfunction mergeParams(params) {\n\t    var merged = {};\n\t    params.forEach(function (param) {\n\t        if ((typeof param === 'undefined' ? 'undefined' : _typeof(param)) === 'object') {\n\t            _extends(merged, param);\n\t        }\n\t    });\n\t    return [merged];\n\t}\n\t\n\tfunction filterParams(value) {\n\t    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t        return Object.keys(value).length !== 0;\n\t    } else {\n\t        return value !== undefined;\n\t    }\n\t}\n\t\n\tfunction extendObject(target, object) {\n\t    for (var k in object) {\n\t        if (typeof object[k] === 'function') {\n\t            target[k] = bindFn(object[k], target);\n\t        } else {\n\t            target[k] = object[k];\n\t        }\n\t    }\n\t}\n\t\n\tfunction bindFn(func, context) {\n\t    return function () {\n\t        return func.apply(context, arguments);\n\t    };\n\t}\n\t\n\tvar RestClient = function () {\n\t    function RestClient(host, options) {\n\t        _classCallCheck(this, RestClient);\n\t\n\t        this.host = host;\n\t        this.conf(options);\n\t\n\t        new _minivents2.default(this);\n\t\n\t        // resource must be super class of RestClient\n\t        // but fucking js cannot into callable objects, so...\n\t        // After this call all resource methods will be defined\n\t        // on current RestClient instance (this behaviour affected by last parameter)\n\t        // At least this parameters are symmetric :D\n\t        resource(this, undefined, '', undefined, this);\n\t    }\n\t\n\t    _createClass(RestClient, [{\n\t        key: 'conf',\n\t        value: function conf() {\n\t            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            var currentOptions = this._opts || {\n\t                trailing: '',\n\t                shortcut: true,\n\t                shortcutRules: [],\n\t                mergeParams: true,\n\t                contentType: 'application/json',\n\t                'application/x-www-form-urlencoded': { encode: encodeUrl },\n\t                'application/json': { encode: JSON.stringify, decode: JSON.parse }\n\t            };\n\t\n\t            this._opts = _extends(currentOptions, options);\n\t\n\t            return _extends({}, this._opts);\n\t        }\n\t    }, {\n\t        key: 'extend',\n\t        value: function extend(definition, match) {\n\t            var client = this;\n\t            var fn = function fn(resource, parent, name, id) {\n\t                return true;\n\t            };\n\t            if (typeof match === 'string') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return name === match;\n\t                };\n\t            } else if (match instanceof RegExp) {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.test(name);\n\t                };\n\t            } else if (match === 'function') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.call(client, resource, parent, name, id);\n\t                };\n\t            }\n\t            this.on('resource', function (resource, parent, name, id) {\n\t                if (fn(resource, parent, name, id)) {\n\t                    resource.extend(definition);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: '_request',\n\t        value: function _request(method, url) {\n\t            var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\n\t            var _this = this;\n\t\n\t            var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\t            var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\t\n\t            if (url.indexOf('?') === -1) url += this._opts.trailing;else url = url.replace('?', this._opts.trailing + '?');\n\t\n\t            var xhr = new XMLHttpRequest();\n\t\n\t            xhr.open(method, this.host + url, true);\n\t\n\t            if (contentType) {\n\t                var mime = this._opts[contentType];\n\t                if (mime && mime.encode) data = safe(mime.encode, data);\n\t                if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData')) xhr.setRequestHeader('Content-Type', contentType);\n\t            }\n\t\n\t            var parameters = {\n\t                method: method, data: data, url: url, contentType: contentType, headers: headers\n\t            };\n\t\n\t            for (var k in headers) {\n\t                xhr.setRequestHeader(k, headers[k]);\n\t            }\n\t\n\t            var p = new Promise(function (resolve, reject) {\n\t                return xhr.onreadystatechange = function () {\n\t                    if (xhr.readyState === 4) {\n\t                        _this.emit('response', xhr, parameters);\n\t                        p.emit('response', xhr, parameters);\n\t                        if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n\t                            _this.emit('success', xhr, parameters);\n\t                            p.emit('success', xhr, parameters);\n\t\n\t                            var res = xhr.response;\n\t                            var responseHeader = xhr.getResponseHeader('Content-Type');\n\t                            if (responseHeader) {\n\t                                var responseContentType = responseHeader.split(';')[0];\n\t                                var _mime = _this._opts[responseContentType];\n\t                                if (_mime && _mime.decode) res = safe(_mime.decode, res);\n\t                            }\n\t                            p.off();\n\t                            resolve(res);\n\t                        } else {\n\t                            _this.emit('error', xhr, parameters);\n\t                            p.emit('error', xhr, parameters);\n\t                            p.off();\n\t                            reject(xhr, parameters);\n\t                        }\n\t                    }\n\t                };\n\t            });\n\t            p.xhr = xhr;\n\t            new _minivents2.default(p);\n\t            setTimeout(function () {\n\t                _this.emit('request', xhr, parameters);\n\t                p.emit('request', xhr, parameters);\n\t                xhr.send(data);\n\t            }, 0);\n\t            return p;\n\t        }\n\t    }]);\n\t\n\t    return RestClient;\n\t}();\n\t\n\tfunction resource(client, parent, name, id, ctx) {\n\t    var baseParams = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\t    var paramsFn = arguments[6];\n\t\n\t    var self = ctx ? ctx : function (newId) {\n\t        if (newId === undefined) return self;\n\t        return self._clone(parent, newId);\n\t    };\n\t\n\t    self._resources = {};\n\t    self._shortcuts = {};\n\t    self._parent = parent;\n\t    self._headers = {};\n\t    self._params = {};\n\t\n\t    self._clone = function (parent, newId, prefix, params, fn) {\n\t        var merged = _extends({}, baseParams, params);\n\t        var copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n\t        copy._shortcuts = self._shortcuts;\n\t        for (var resName in self._resources) {\n\t            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n\t            if (resName in copy._shortcuts) copy[resName] = copy._resources[resName];\n\t        }\n\t        return copy;\n\t    };\n\t\n\t    self.res = function (resources) {\n\t        var shortcut = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : client._opts.shortcut;\n\t\n\t        var makeRes = function makeRes(resName) {\n\t            if (resName in self._resources) return self._resources[resName];\n\t\n\t            var r = resource(client, self, resName);\n\t            self._resources[resName] = r;\n\t            if (shortcut) {\n\t                self._shortcuts[resName] = r;\n\t                self[resName] = r;\n\t                client._opts.shortcutRules.forEach(function (rule) {\n\t                    var customShortcut = rule(resName);\n\t                    if (customShortcut && typeof customShortcut === 'string') {\n\t                        self._shortcuts[customShortcut] = r;\n\t                        self[customShortcut] = r;\n\t                    }\n\t                });\n\t            }\n\t            return r;\n\t        };\n\t\n\t        // (resources instanceof String) don't work. Fuck you, javascript.\n\t        if (resources.constructor === String) return makeRes(resources);\n\t\n\t        if (resources instanceof Array) return resources.map(makeRes);\n\t\n\t        if (resources instanceof Object) {\n\t            var res = {};\n\t            for (var resName in resources) {\n\t                var r = makeRes(resName);\n\t                if (resources[resName]) r.res(resources[resName]);\n\t                res[resName] = r;\n\t            }\n\t            return res;\n\t        }\n\t    };\n\t\n\t    self.execute = function (method, data, params, headers) {\n\t        var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : client._opts.contentType;\n\t\n\t        if (typeof headers === 'string') {\n\t            contentType = headers;\n\t            headers = {};\n\t        } else if (typeof params === 'string') {\n\t            contentType = params;\n\t            params = {};\n\t        }\n\t        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n\t        headers = _extends({}, self.getHeaders(), headers);\n\t        return client._request(method, url, data, headers, contentType);\n\t    };\n\t\n\t    self._execute = function (method, args) {\n\t        return self.execute.apply(self, [method].concat(args));\n\t    };\n\t\n\t    self.baseUrl = function () {\n\t        var url = parent ? parent.baseUrl() : '';\n\t        if (name) url += '/' + name;\n\t        if (id !== undefined) url += '/' + id;\n\t        return url;\n\t    };\n\t\n\t    self.url = function () {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        var url = self.baseUrl();\n\t        var params = [self.getParams()].concat(args);\n\t        if (client._opts.mergeParams) params = mergeParams(params);\n\t        var query = params.filter(filterParams).map(function (param) {\n\t            client.emit('params', param, self, parent, name, id);\n\t            return encodeUrl(param);\n\t        }).join('&');\n\t        if (query) url += '?' + query;\n\t        return url;\n\t    };\n\t\n\t    self.scope = function () {\n\t        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            args[_key2] = arguments[_key2];\n\t        }\n\t\n\t        var params = {};\n\t        var fn = void 0;\n\t        if (typeof args[args.length - 1] === 'function') {\n\t            fn = args.pop();\n\t        }\n\t        if (_typeof(args[args.length - 1]) === 'object') {\n\t            _extends(params, args.pop());\n\t        }\n\t        var path = args.filter(filterParams).map(encodeURIComponent).join('/');\n\t        if (path === '') {\n\t            return self._clone(parent, id, undefined, params, fn);\n\t        } else {\n\t            return self._clone(self, undefined, path, params, fn);\n\t        }\n\t    };\n\t\n\t    self.param = self.params = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._params, key);\n\t        } else if (typeof key === 'string') {\n\t            self._params[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getParams = function () {\n\t        var _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n\t        return _extends({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n\t    };\n\t\n\t    self.header = self.headers = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._headers, key);\n\t        } else if (typeof key === 'string') {\n\t            self._headers[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getHeaders = function () {\n\t        return _extends({}, parent ? parent.getHeaders() : {}, self._headers);\n\t    };\n\t\n\t    if (!self.extend) {\n\t        self.extend = function (definition) {\n\t            if ((typeof definition === 'undefined' ? 'undefined' : _typeof(definition)) === 'object') {\n\t                extendObject(self, definition);\n\t            } else if (typeof definition === 'function') {\n\t                var def = definition(self, parent, name, id);\n\t                if (def) extendObject(self, (typeof def === 'undefined' ? 'undefined' : _typeof(def)) === 'object' ? def : {});\n\t            }\n\t        };\n\t    }\n\t\n\t    // HTTP methods\n\t\n\t    self.get = function () {\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        return self.execute('GET', {}, args);\n\t    };\n\t\n\t    self.post = function () {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        return self._execute('POST', args);\n\t    };\n\t\n\t    self.put = function () {\n\t        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n\t            args[_key5] = arguments[_key5];\n\t        }\n\t\n\t        return self._execute('PUT', args);\n\t    };\n\t\n\t    self.patch = function () {\n\t        for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n\t            args[_key6] = arguments[_key6];\n\t        }\n\t\n\t        return self._execute('PATCH', args);\n\t    };\n\t\n\t    self.delete = function () {\n\t        for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n\t            args[_key7] = arguments[_key7];\n\t        }\n\t\n\t        return self._execute('DELETE', args);\n\t    };\n\t\n\t    client.emit('resource', self, parent, name, id);\n\t\n\t    return self;\n\t}\n\t\n\tmodule.exports = RestClient;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rest-client.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ec5667607756985330e","import Events from 'minivents'\n\nfunction encodeUrl(data) {\n    let res = '';\n    for (let k in data)\n        res += encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) + '&';\n    return res.substr(0, res.length - 1);\n}\n\nfunction safe(func, data) {\n    try {\n        return func(data);\n    }\n    catch(e) {\n        console.error('Error in function \"' + func.name + '\" while decode/encode data');\n        console.log(func);\n        console.log(data);\n        console.log(e);\n        return data;\n    }\n}\n\nfunction mergeParams(params) {\n    let merged = {};\n    params.forEach(function(param) {\n        if (typeof param === 'object') {\n            Object.assign(merged, param);\n        }\n    });\n    return [merged];\n}\n\nfunction filterParams(value) {\n    if (typeof value === 'object') {\n        return Object.keys(value).length !== 0;\n    } else {\n        return value !== undefined;\n    }\n}\n\nfunction extendObject(target, object) {\n    for (let k in object) {\n        if (typeof object[k] === 'function') {\n            target[k] = bindFn(object[k], target);\n        } else {\n            target[k] = object[k];\n        }\n    }\n}\n\nfunction bindFn(func, context) {\n    return function() {\n        return func.apply(context, arguments);\n    };\n}\n\nclass RestClient {\n    constructor(host, options) {\n        this.host = host;\n        this.conf(options);\n\n        new Events(this);\n\n        // resource must be super class of RestClient\n        // but fucking js cannot into callable objects, so...\n        // After this call all resource methods will be defined\n        // on current RestClient instance (this behaviour affected by last parameter)\n        // At least this parameters are symmetric :D\n        resource(this, undefined, '', undefined, this);\n    }\n\n    conf(options={}) {\n        let currentOptions = this._opts || {\n            trailing: '',\n            shortcut: true,\n            shortcutRules: [],\n            mergeParams: true,\n            contentType: 'application/json',\n            'application/x-www-form-urlencoded': {encode: encodeUrl},\n            'application/json': {encode: JSON.stringify, decode: JSON.parse}\n        };\n\n        this._opts = Object.assign(currentOptions, options);\n\n        return Object.assign({}, this._opts);\n    }\n    \n    extend(definition, match) {\n        const client = this;\n        let fn = (resource, parent, name, id) => true;\n        if (typeof match === 'string') {\n            fn = (resource, parent, name, id) => name === match;\n        } else if (match instanceof RegExp) {\n            fn = (resource, parent, name, id) => match.test(name);\n        } else if (match === 'function') {\n            fn = (resource, parent, name, id) => match.call(client, resource, parent, name, id);\n        }\n        this.on('resource', (resource, parent, name, id) => {\n            if (fn(resource, parent, name, id)) {\n                resource.extend(definition);\n            }\n        });\n    }\n\n    _request(method, url, data=null, headers={}, contentType=null) {\n        if (url.indexOf('?') === -1)\n            url += this._opts.trailing;\n        else\n            url = url.replace('?', this._opts.trailing + '?');\n\n        let xhr = new XMLHttpRequest();\n        \n        xhr.open(method, this.host + url, true);\n        \n        if (contentType) {\n            let mime = this._opts[contentType];\n            if (mime && mime.encode)\n                data = safe(mime.encode, data);\n            if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData'))\n                xhr.setRequestHeader('Content-Type', contentType);\n        }\n        \n        let parameters = {\n            method: method, data:data, url: url, contentType: contentType, headers: headers\n        };\n        \n        for (let k in headers) {\n            xhr.setRequestHeader(k, headers[k]);\n        }\n\n        let p = new Promise((resolve, reject) =>\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    this.emit('response', xhr, parameters);\n                    p.emit('response', xhr, parameters);\n                    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n                        this.emit('success', xhr, parameters);\n                        p.emit('success', xhr, parameters);\n\n                        let res = xhr.response;\n                        let responseHeader = xhr.getResponseHeader('Content-Type');\n                        if (responseHeader) {\n                            let responseContentType = responseHeader.split(';')[0];\n                            let mime = this._opts[responseContentType];\n                            if (mime && mime.decode)\n                                res = safe(mime.decode, res);\n                        }\n                        p.off();\n                        resolve(res);\n                    } else {\n                        this.emit('error', xhr, parameters);\n                        p.emit('error', xhr, parameters);\n                        p.off();\n                        reject(xhr, parameters);\n                    }\n                }\n            }\n        );\n        p.xhr = xhr;\n        new Events(p);\n        setTimeout(() => {\n            this.emit('request', xhr, parameters);\n            p.emit('request', xhr, parameters);\n            xhr.send(data);\n        }, 0);\n        return p;\n    }\n}\n\nfunction resource(client, parent, name, id, ctx, baseParams = {}, paramsFn) {\n    let self = ctx ? ctx : (newId) => {\n        if (newId === undefined)\n            return self;\n        return self._clone(parent, newId);\n    };\n    \n    self._resources = {};\n    self._shortcuts = {};\n    self._parent = parent;\n    self._headers = {};\n    self._params = {};\n    \n    self._clone = (parent, newId, prefix, params, fn) => {\n        let merged = Object.assign({}, baseParams, params);\n        let copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n        copy._shortcuts = self._shortcuts;\n        for (let resName in self._resources) {\n            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n            if (resName in copy._shortcuts)\n                copy[resName] = copy._resources[resName];\n        }\n        return copy;\n    };\n\n    self.res = (resources, shortcut=client._opts.shortcut) => {\n        let makeRes = (resName) => {\n            if (resName in self._resources)\n                return self._resources[resName];\n\n            let r = resource(client, self, resName);\n            self._resources[resName] = r;\n            if (shortcut) {\n                self._shortcuts[resName] = r;\n                self[resName] = r;\n                client._opts.shortcutRules.forEach(rule => {\n                    let customShortcut = rule(resName);\n                    if (customShortcut && typeof customShortcut === 'string') {\n                        self._shortcuts[customShortcut] = r;\n                        self[customShortcut] = r;\n                    }\n                });\n            }\n            return r;\n        };\n\n        // (resources instanceof String) don't work. Fuck you, javascript.\n        if (resources.constructor === String)\n            return makeRes(resources);\n\n        if (resources instanceof Array)\n            return resources.map(makeRes);\n\n        if (resources instanceof Object) {\n            let res = {};\n            for (let resName in resources) {\n                let r = makeRes(resName);\n                if (resources[resName])\n                    r.res(resources[resName]);\n                res[resName] = r;\n            }\n            return res;\n        }\n    };\n\n    self.execute = (method, data, params, headers, contentType = client._opts.contentType) => {\n        if (typeof headers === 'string') {\n            contentType = headers;\n            headers = {};\n        } else if (typeof params === 'string') {\n            contentType = params;\n            params = {};\n        }\n        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n        headers = Object.assign({}, self.getHeaders(), headers);\n        return client._request(method, url, data, headers, contentType);\n    };\n\n    self._execute = (method, args) => {\n        return self.execute.apply(self, [method].concat(args));\n    };\n    \n    self.baseUrl = function() {\n        let url = parent ? parent.baseUrl() : '';\n        if (name) url += '/' + name;\n        if (id !== undefined) url += '/' + id;\n        return url;\n    };\n\n    self.url = (...args) => {\n        let url = self.baseUrl();\n        let params = [self.getParams()].concat(args);\n        if (client._opts.mergeParams) params = mergeParams(params);\n        const query = params.filter(filterParams).map((param) => {\n            client.emit('params', param, self, parent, name, id);\n            return encodeUrl(param);\n        }).join('&');\n        if (query) url += '?' + query;\n        return url;\n    };\n    \n    self.scope = (...args) => {\n        let params = {};\n        let fn;\n        if (typeof args[args.length - 1] === 'function') {\n            fn = args.pop();\n        }\n        if (typeof args[args.length - 1] === 'object') {\n            Object.assign(params, args.pop());\n        }\n        let path = args.filter(filterParams).map(encodeURIComponent).join('/');\n        if (path === '') {\n            return self._clone(parent, id, undefined, params, fn);\n        } else {\n            return self._clone(self, undefined, path, params, fn);\n        }\n    };\n    \n    self.param = self.params = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._params, key);\n        } else if (typeof key === 'string') {\n            self._params[key] = value;\n        }\n        return self;\n    };\n    \n    self.getParams = () => {\n        const _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n        return Object.assign({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n    };\n    \n    self.header = self.headers = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._headers, key);\n        } else if (typeof key === 'string') {\n            self._headers[key] = value;\n        }\n        return self;\n    };\n    \n    self.getHeaders = () => {\n        return Object.assign({}, parent ? parent.getHeaders() : {}, self._headers);\n    };\n\n    if (!self.extend) {\n        self.extend = (definition) => {\n            if (typeof definition === 'object') {\n                extendObject(self, definition);\n            } else if (typeof definition === 'function') {\n                const def = definition(self, parent, name, id);\n                if (def) extendObject(self, typeof def === 'object' ? def : {});\n            }\n        };\n    }\n\n    // HTTP methods\n\n    self.get = (...args) => {\n        return self.execute('GET', {}, args);\n    };\n\n    self.post = (...args) => {\n        return self._execute('POST', args);\n    };\n\n    self.put = (...args) => {\n        return self._execute('PUT', args);\n    };\n\n    self.patch = (...args) => {\n        return self._execute('PATCH', args);\n    };\n\n    self.delete = (...args) => {\n        return self._execute('DELETE', args);\n    };\n    \n    client.emit('resource', self, parent, name, id);\n    \n    return self;\n}\n\nmodule.exports = RestClient;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest-client.js","module.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/minivents/dist/minivents.commonjs.min.js\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}