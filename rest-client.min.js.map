{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///rest-client.min.js","webpack:///webpack/bootstrap 1f7994134ce0f9e25d2d?73ab","webpack:///./src/rest-client.js?6f35","webpack:///./~/minivents/dist/minivents.commonjs.min.js?7f72"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","encodeUrl","a","s","add","k","v","undefined","encodeURIComponent","buildParams","prefix","len","key","_typeof","String","name","value","join","safe","func","data","callback","e","console","error","log","mergeParams","params","merged","forEach","param","_extends","filterParams","Object","keys","extendObject","target","object","bindFn","context","apply","arguments","resource","client","parent","ctx","baseParams","paramsFn","self","newId","_clone","_resources","_shortcuts","_parent","_headers","_params","fn","copy","resName","res","resources","shortcut","_opts","makeRes","options","r","shortcutName","shortcutRules","rule","customShortcut","constructor","map","execute","method","headers","contentType","url","getHeaders","_request","_execute","args","concat","baseUrl","_len","_key","getParams","index","urlParams","replace","segment","blank","isUndefined","isNull","push","indexOf","omit","query","filter","emit","use","_len2","_key2","shift","scope","_ref","_len3","_key3","pop","path","match","setParams","setHeaders","header","extend","definition","def","get","_len4","_key4","post","_len5","_key5","put","_len6","_key6","patch","_len7","_key7","delete","_len8","_key8","parseResponse","response","xhr","parameters","resolve","reject","responseText","responseHeader","getResponseHeader","responseContentType","split","mime","decode","err","handleResponse","status","off","handleResponseFail","responseEvent","errorInstances","Promise","succes","fail","then","Error","message","details","_ref2","_len9","keysToOmit","_key9","reduce","acc","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","assign","source","hasOwnProperty","Symbol","iterator","_minivents","_minivents2","RestClient","host","conf","currentOptions","transport","trailing","application/x-www-form-urlencoded","encode","application/json","JSON","stringify","parse","RegExp","test","on","Transports","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","setTimeout","send","$","jqueryAjax","beforeSend","done","textStatus","errorThrown","n","t","l","o","u","splice","slice"],"mappings":"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","file":"rest-client.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _minivents = __webpack_require__(1);\n\t\n\tvar _minivents2 = _interopRequireDefault(_minivents);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction encodeUrl(a) {\n\t    var s = [];\n\t\n\t    var add = function add(k, v) {\n\t        v = typeof v === 'function' ? v() : v;\n\t        v = v === null ? '' : v === undefined ? '' : v;\n\t        s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n\t    };\n\t\n\t    var buildParams = function buildParams(prefix, obj) {\n\t        var i = void 0,\n\t            len = void 0,\n\t            key = void 0;\n\t        if (prefix) {\n\t            if (Array.isArray(obj)) {\n\t                for (i = 0, len = obj.length; i < len; i++) {\n\t                    buildParams(_typeof(obj[i]) === 'object' && obj[i] ? prefix + '[' + i + ']' : prefix, obj[i]);\n\t                }\n\t            } else if (String(obj) === '[object Object]') {\n\t                for (key in obj) {\n\t                    buildParams(prefix + '[' + key + ']', obj[key]);\n\t                }\n\t            } else {\n\t                add(prefix, obj);\n\t            }\n\t        } else if (Array.isArray(obj)) {\n\t            for (i = 0, len = obj.length; i < len; i++) {\n\t                add(obj[i].name, obj[i].value);\n\t            }\n\t        } else {\n\t            for (key in obj) {\n\t                buildParams(key, obj[key]);\n\t            }\n\t        }\n\t        return s;\n\t    };\n\t\n\t    return buildParams('', a).join('&');\n\t};\n\t\n\tfunction safe(func, data, callback) {\n\t    try {\n\t        var value = func(data);\n\t        if (typeof callback === 'function') callback(null, value);\n\t        return value;\n\t    } catch (e) {\n\t        if (typeof callback === 'function') {\n\t            callback(e);\n\t        } else {\n\t            console.error('Error in function \"' + func.name + '\" while decode/encode data');\n\t            console.log(func);\n\t            console.log(data);\n\t            console.log(e);\n\t        }\n\t        return data;\n\t    }\n\t}\n\t\n\tfunction mergeParams(params) {\n\t    var merged = {};\n\t    params.forEach(function (param) {\n\t        if ((typeof param === 'undefined' ? 'undefined' : _typeof(param)) === 'object') {\n\t            _extends(merged, param);\n\t        }\n\t    });\n\t    return merged;\n\t}\n\t\n\tfunction filterParams(value) {\n\t    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t        return Object.keys(value).length !== 0;\n\t    } else {\n\t        return value !== undefined;\n\t    }\n\t}\n\t\n\tfunction extendObject(target, object) {\n\t    for (var k in object) {\n\t        if (typeof object[k] === 'function') {\n\t            target[k] = bindFn(object[k], target);\n\t        } else {\n\t            target[k] = object[k];\n\t        }\n\t    }\n\t}\n\t\n\tfunction bindFn(func, context) {\n\t    return function () {\n\t        return func.apply(context, arguments);\n\t    };\n\t}\n\t\n\tvar RestClient = function () {\n\t    function RestClient(host, options) {\n\t        _classCallCheck(this, RestClient);\n\t\n\t        this.host = host;\n\t        this.conf(options);\n\t\n\t        new _minivents2.default(this);\n\t\n\t        // resource must be super class of RestClient\n\t        // but fucking js cannot into callable objects, so...\n\t        // After this call all resource methods will be defined\n\t        // on current RestClient instance (this behaviour affected by last parameter)\n\t        // At least this parameters are symmetric :D\n\t        resource(this, undefined, '', undefined, this);\n\t    }\n\t\n\t    _createClass(RestClient, [{\n\t        key: 'conf',\n\t        value: function conf() {\n\t            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            var currentOptions = this._opts || {\n\t                transport: 'default',\n\t                trailing: '',\n\t                shortcut: true,\n\t                shortcutRules: [],\n\t                mergeParams: true,\n\t                errorInstances: true,\n\t                contentType: 'application/json',\n\t                'application/x-www-form-urlencoded': { encode: encodeUrl },\n\t                'application/json': { encode: JSON.stringify, decode: JSON.parse }\n\t            };\n\t\n\t            this._opts = _extends(currentOptions, options);\n\t\n\t            return _extends({}, this._opts);\n\t        }\n\t    }, {\n\t        key: 'extend',\n\t        value: function extend(definition, match) {\n\t            var client = this;\n\t            var fn = function fn(resource, parent, name, id) {\n\t                return true;\n\t            };\n\t            if (typeof match === 'string') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return name === match;\n\t                };\n\t            } else if (match instanceof RegExp) {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.test(name);\n\t                };\n\t            } else if (match === 'function') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.call(client, resource, parent, name, id);\n\t                };\n\t            }\n\t            this.on('resource', function (resource, parent, name, id) {\n\t                if (fn(resource, parent, name, id)) {\n\t                    resource.extend(definition);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: '_request',\n\t        value: function _request(method, url) {\n\t            var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t            var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\t            var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\t\n\t            if (url.indexOf('?') === -1) {\n\t                url += this._opts.trailing;\n\t            } else {\n\t                url = url.replace('?', this._opts.trailing + '?');\n\t            }\n\t\n\t            if (contentType) {\n\t                var mime = this._opts[contentType];\n\t                if (mime && mime.encode) data = safe(mime.encode, data);\n\t                if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData')) headers['Content-Type'] = contentType;\n\t            }\n\t\n\t            var parameters = {\n\t                method: method,\n\t                data: data,\n\t                url: this.host + url,\n\t                contentType: contentType,\n\t                headers: headers\n\t            };\n\t\n\t            var transport = RestClient.Transports[this._opts.transport];\n\t            return transport(this, parameters, this._opts);\n\t        }\n\t    }]);\n\t\n\t    return RestClient;\n\t}();\n\t\n\tfunction resource(client, parent, name, id, ctx) {\n\t    var baseParams = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\t    var paramsFn = arguments[6];\n\t\n\t    var self = ctx ? ctx : function (newId, params) {\n\t        if ((typeof newId === 'undefined' ? 'undefined' : _typeof(newId)) === 'object') {\n\t            params = _extends({}, newId);\n\t            newId = undefined;\n\t        } else if (newId === undefined) {\n\t            return self;\n\t        }\n\t        return self._clone(parent, newId, undefined, params);\n\t    };\n\t\n\t    if (parent === self) parent = undefined;\n\t\n\t    self._resources = {};\n\t    self._shortcuts = {};\n\t    self._parent = parent;\n\t    self._headers = {};\n\t    self._params = {};\n\t\n\t    self._clone = function (parent, newId, prefix, params, fn) {\n\t        var merged = _extends({}, baseParams, params);\n\t        var copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n\t        copy._shortcuts = self._shortcuts;\n\t        for (var resName in self._resources) {\n\t            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n\t            if (resName in copy._shortcuts) copy[resName] = copy._resources[resName];\n\t        }\n\t        return copy;\n\t    };\n\t\n\t    self.res = function (resources) {\n\t        var shortcut = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : client._opts.shortcut;\n\t        var params = arguments[2];\n\t        var paramsFn = arguments[3];\n\t\n\t        var makeRes = function makeRes(resName) {\n\t            var options = {};\n\t            var _params = _extends({}, params);\n\t            if ((typeof resName === 'undefined' ? 'undefined' : _typeof(resName)) === 'object' && typeof resName.name === 'string') {\n\t                options = _extends(options, resName);\n\t                resName = options.name;\n\t                if (options.shortcut !== undefined) shortcut = options.shortcut;\n\t                _params = _extends({}, options.params, _params);\n\t                paramsFn = options.paramsFn || paramsFn;\n\t            }\n\t\n\t            if (resName in self._resources) return self._resources[resName];\n\t\n\t            var r = resource(client, self, resName, undefined, undefined, _params, paramsFn);\n\t\n\t            self._resources[resName] = r;\n\t            if (shortcut) {\n\t                var shortcutName = typeof shortcut === 'string' ? shortcut : resName;\n\t                self._shortcuts[shortcutName] = r;\n\t                self[shortcutName] = r;\n\t                client._opts.shortcutRules.forEach(function (rule) {\n\t                    var customShortcut = rule(resName);\n\t                    if (customShortcut && typeof customShortcut === 'string') {\n\t                        self._shortcuts[customShortcut] = r;\n\t                        self[customShortcut] = r;\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (options.resources) r.res(options.resources); // Nested\n\t\n\t            return r;\n\t        };\n\t\n\t        // (resources instanceof String) don't work. Fuck you, javascript.\n\t        if (resources.constructor === String) return makeRes(resources);\n\t\n\t        if (resources instanceof Array) return resources.map(makeRes);\n\t\n\t        if (resources instanceof Object) {\n\t            var res = {};\n\t            for (var resName in resources) {\n\t                var r = makeRes(resName);\n\t                if (resources[resName]) {\n\t                    r.res(resources[resName]);\n\t                }\n\t                res[resName] = r;\n\t            }\n\t            return res;\n\t        }\n\t    };\n\t\n\t    self.execute = function (method, data, params, headers) {\n\t        var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : client._opts.contentType;\n\t\n\t        if (typeof headers === 'string') {\n\t            contentType = headers;\n\t            headers = {};\n\t        } else if (typeof params === 'string') {\n\t            contentType = params;\n\t            params = {};\n\t        }\n\t        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n\t        headers = _extends({}, self.getHeaders(), headers);\n\t        return client._request(method, url, data, headers, contentType);\n\t    };\n\t\n\t    self._execute = function (method, args) {\n\t        return self.execute.apply(self, [method].concat(args));\n\t    };\n\t\n\t    self.baseUrl = function () {\n\t        var url = parent ? parent.baseUrl() : '';\n\t        if (name) url += '/' + name;\n\t        if (id !== undefined) url += '/' + id;\n\t        return url;\n\t    };\n\t\n\t    self.url = function () {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        var url = self.baseUrl();\n\t        var params = [self.getParams()].concat(args);\n\t\n\t        if (client._opts.mergeParams) {\n\t            var keys = [];\n\t            var index = 0;\n\t            var urlParams = mergeParams(params);\n\t            url = url.replace(/\\/?[:\\*](\\w+)/g, function (segment, key) {\n\t                index += 1; // always increment\n\t                var value = urlParams[key] || urlParams[index];\n\t                var blank = isUndefined(value) || isNull(value);\n\t                if (!blank) keys.push(key);\n\t                if (url.indexOf(segment) === 0 && !blank) {\n\t                    return encodeURIComponent(value);\n\t                } else if (!blank) {\n\t                    return '/' + encodeURIComponent(value);\n\t                } else {\n\t                    return '';\n\t                }\n\t            });\n\t            params = [omit(urlParams, keys)];\n\t        }\n\t\n\t        var query = params.filter(filterParams).map(function (param) {\n\t            client.emit('params', param, self, parent, name, id);\n\t            return encodeUrl(param);\n\t        }).join('&');\n\t        if (query) url += '?' + query;\n\t        return url;\n\t    };\n\t\n\t    self.use = function () {\n\t        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            args[_key2] = arguments[_key2];\n\t        }\n\t\n\t        var resName = args.shift();\n\t        var resource = void 0;\n\t        if (Array.isArray(resName) || typeof resName === 'number') {\n\t            resource = self.apply(self, [].concat(resName));\n\t        } else {\n\t            resource = self[resName];\n\t        }\n\t        if (typeof resource === 'function' && typeof resource.use === 'function' && args.length > 0) {\n\t            return resource.use.apply(resource, args);\n\t        } else {\n\t            return resource;\n\t        }\n\t    };\n\t\n\t    self.id = function (id) {\n\t        return self(id);\n\t    }, self.scope = function () {\n\t        var _ref;\n\t\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        var params = {};\n\t        var fn = void 0;\n\t        if (typeof args[args.length - 1] === 'function') {\n\t            fn = args.pop();\n\t        }\n\t        if (_typeof(args[args.length - 1]) === 'object') {\n\t            _extends(params, args.pop());\n\t        }\n\t        args = (_ref = []).concat.apply(_ref, _toConsumableArray(args));\n\t        var path = args.filter(filterParams).map(function (segment) {\n\t            if (typeof segment === 'string' && segment.match(/^:/)) {\n\t                return segment;\n\t            } else {\n\t                return encodeURIComponent(segment);\n\t            }\n\t        }).join('/');\n\t        if (path === '') {\n\t            return self._clone(parent, id, undefined, params, fn);\n\t        } else {\n\t            return self._clone(self, undefined, path, params, fn);\n\t        }\n\t    };\n\t\n\t    self.setParams = self.param = self.params = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._params, key);\n\t        } else if (typeof key === 'string') {\n\t            self._params[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getParams = function () {\n\t        var _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n\t        return _extends({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n\t    };\n\t\n\t    self.setHeaders = self.header = self.headers = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._headers, key);\n\t        } else if (typeof key === 'string') {\n\t            self._headers[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getHeaders = function () {\n\t        return _extends({}, parent ? parent.getHeaders() : {}, self._headers);\n\t    };\n\t\n\t    if (!self.extend) {\n\t        self.extend = function (definition) {\n\t            if ((typeof definition === 'undefined' ? 'undefined' : _typeof(definition)) === 'object') {\n\t                extendObject(self, definition);\n\t            } else if (typeof definition === 'function') {\n\t                var def = definition(self, parent, name, id);\n\t                if (def) extendObject(self, (typeof def === 'undefined' ? 'undefined' : _typeof(def)) === 'object' ? def : {});\n\t            }\n\t        };\n\t    }\n\t\n\t    // HTTP methods\n\t\n\t    self.get = function () {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        return self.execute('GET', {}, args);\n\t    };\n\t\n\t    self.post = function () {\n\t        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n\t            args[_key5] = arguments[_key5];\n\t        }\n\t\n\t        return self._execute('POST', args);\n\t    };\n\t\n\t    self.put = function () {\n\t        for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n\t            args[_key6] = arguments[_key6];\n\t        }\n\t\n\t        return self._execute('PUT', args);\n\t    };\n\t\n\t    self.patch = function () {\n\t        for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n\t            args[_key7] = arguments[_key7];\n\t        }\n\t\n\t        return self._execute('PATCH', args);\n\t    };\n\t\n\t    self.delete = function () {\n\t        for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n\t            args[_key8] = arguments[_key8];\n\t        }\n\t\n\t        return self._execute('DELETE', args);\n\t    };\n\t\n\t    client.emit('resource', self, parent, name, id);\n\t\n\t    return self;\n\t}\n\t\n\tmodule.exports = RestClient;\n\t\n\t// Transports\n\t\n\tRestClient.Transports = {};\n\t\n\tRestClient.Transports['default'] = function (client, parameters) {\n\t    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t    var method = parameters.method,\n\t        data = parameters.data,\n\t        url = parameters.url,\n\t        headers = parameters.headers;\n\t\n\t\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open(method, url, true);\n\t\n\t    for (var k in headers) {\n\t        xhr.setRequestHeader(k, headers[k]);\n\t    }\n\t\n\t    var p = new Promise(function (resolve, reject) {\n\t        return xhr.onreadystatechange = function () {\n\t            if (xhr.readyState === 4) {\n\t                handleResponse(client, p, xhr, parameters, options, resolve, reject);\n\t            }\n\t        };\n\t    });\n\t\n\t    p.xhr = xhr;\n\t    new _minivents2.default(p);\n\t\n\t    setTimeout(function () {\n\t        client.emit('request', xhr, parameters);\n\t        p.emit('request', xhr, parameters);\n\t        xhr.send(data);\n\t    }, 0);\n\t\n\t    return p;\n\t};\n\t\n\tRestClient.Transports['jquery'] = function (client, parameters) {\n\t    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t    var xhr = $[options.jqueryAjax || 'ajax'](_extends({\n\t        beforeSend: function beforeSend(xhr) {\n\t            client.emit('request', xhr, parameters);\n\t            p.emit('request', xhr, parameters);\n\t        }\n\t    }, parameters));\n\t\n\t    var p = new Promise(function (resolve, reject) {\n\t        p.xhr = xhr;\n\t        new _minivents2.default(p);\n\t        xhr.done(function (data, textStatus, xhr) {\n\t            handleResponse(client, p, xhr, parameters, options, resolve, reject, data);\n\t        }).fail(function (xhr, textStatus, errorThrown) {\n\t            handleResponseFail(client, p, xhr, parameters, options, resolve, reject, true);\n\t        });\n\t    });\n\t\n\t    return p;\n\t};\n\t\n\t// Helpers\n\t\n\tfunction parseResponse(response, client, p, xhr, parameters, options, resolve, reject) {\n\t    var res = response || xhr.responseText;\n\t    var responseHeader = xhr.getResponseHeader('Content-Type');\n\t    if (responseHeader) {\n\t        var responseContentType = responseHeader.split(';')[0];\n\t        var mime = options[responseContentType];\n\t        if (mime && mime.decode) {\n\t            safe(mime.decode, res, function (err, res) {\n\t                err ? reject(_extends(err, { xhr: xhr })) : resolve(res);\n\t            });\n\t            return;\n\t        }\n\t    }\n\t    resolve(res);\n\t};\n\t\n\tfunction handleResponse(client, p, xhr, parameters, options, resolve, reject, response) {\n\t    client.emit('response', xhr, parameters);\n\t    p.emit('response', xhr, parameters);\n\t    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n\t        client.emit('success', xhr, parameters);\n\t        p.emit('success', xhr, parameters);\n\t        p.off();\n\t        parseResponse(response, client, p, xhr, parameters, options, resolve, reject);\n\t    } else {\n\t        handleResponseFail(client, p, xhr, parameters, options, resolve, reject);\n\t    }\n\t};\n\t\n\tfunction handleResponseFail(client, p, xhr, parameters, options, resolve, reject, responseEvent) {\n\t    if (responseEvent) {\n\t        client.emit('response', xhr, parameters);\n\t        p.emit('response', xhr, parameters);\n\t    }\n\t    client.emit('error', xhr, parameters);\n\t    p.emit('error', xhr, parameters);\n\t    p.off();\n\t    if (client._opts.errorInstances) {\n\t        new Promise(function (succes, fail) {\n\t            parseResponse(null, client, p, xhr, parameters, options, succes, fail);\n\t        }).then(function (res) {\n\t            var error = new Error('Request failed.');\n\t            if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) === 'object') {\n\t                if (_typeof(res.error) === 'object' && typeof res.error.message === 'string') {\n\t                    error = new Error(res.error.message);\n\t                }\n\t                error.details = res;\n\t            }\n\t            error.xhr = xhr;\n\t            reject(error, parameters);\n\t        }, function (err) {\n\t            reject(err, parameters);\n\t        });\n\t    } else {\n\t        reject(xhr, parameters);\n\t    }\n\t};\n\t\n\tfunction isNull(value) {\n\t    return value === null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\t};\n\t\n\tfunction isUndefined(value) {\n\t    return typeof value === 'undefined';\n\t};\n\t\n\tfunction omit(obj) {\n\t    var _ref2;\n\t\n\t    for (var _len9 = arguments.length, keysToOmit = Array(_len9 > 1 ? _len9 - 1 : 0), _key9 = 1; _key9 < _len9; _key9++) {\n\t        keysToOmit[_key9 - 1] = arguments[_key9];\n\t    }\n\t\n\t    keysToOmit = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(keysToOmit));\n\t    return Object.keys(obj).reduce(function (acc, key) {\n\t        if (keysToOmit.indexOf(key) === -1) acc[key] = obj[key];\n\t        return acc;\n\t    }, {});\n\t};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rest-client.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1f7994134ce0f9e25d2d","import Events from 'minivents'\n\nfunction encodeUrl(a) {\n    const s = [];\n    \n    const add = function (k, v) {\n        v = typeof v === 'function' ? v() : v;\n        v = v === null ? '' : v === undefined ? '' : v;\n        s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n    };\n    \n    const buildParams = function (prefix, obj) {\n        let i, len, key;\n        if (prefix) {\n            if (Array.isArray(obj)) {\n                for (i = 0, len = obj.length; i < len; i++) {\n                    buildParams(\n                        (typeof obj[i] === 'object' && obj[i]) ? prefix + '[' + ( i ) + ']' : prefix,\n                        obj[i]\n                    );\n                }\n            } else if (String(obj) === '[object Object]') {\n                for (key in obj) {\n                    buildParams(prefix + '[' + key + ']', obj[key]);\n                }\n            } else {\n                add(prefix, obj);\n            }\n        } else if (Array.isArray(obj)) {\n            for (i = 0, len = obj.length; i < len; i++) {\n                add(obj[i].name, obj[i].value);\n            }\n        } else {\n            for (key in obj) {\n                buildParams(key, obj[key]);\n            }\n        }\n        return s;\n    };\n\n    return buildParams('', a).join('&');\n};\n\nfunction safe(func, data, callback) {\n    try {\n        let value = func(data);\n        if (typeof callback === 'function') callback(null, value);\n        return value;\n    }\n    catch(e) {\n        if (typeof callback === 'function') {\n            callback(e);\n        } else {\n            console.error('Error in function \"' + func.name + '\" while decode/encode data');\n            console.log(func);\n            console.log(data);\n            console.log(e);\n        }\n        return data;\n    }\n}\n\nfunction mergeParams(params) {\n    let merged = {};\n    params.forEach(function(param) {\n        if (typeof param === 'object') {\n            Object.assign(merged, param);\n        }\n    });\n    return merged;\n}\n\nfunction filterParams(value) {\n    if (typeof value === 'object') {\n        return Object.keys(value).length !== 0;\n    } else {\n        return value !== undefined;\n    }\n}\n\nfunction extendObject(target, object) {\n    for (let k in object) {\n        if (typeof object[k] === 'function') {\n            target[k] = bindFn(object[k], target);\n        } else {\n            target[k] = object[k];\n        }\n    }\n}\n\nfunction bindFn(func, context) {\n    return function() {\n        return func.apply(context, arguments);\n    };\n}\n\nclass RestClient {\n    constructor(host, options) {\n        this.host = host;\n        this.conf(options);\n\n        new Events(this);\n\n        // resource must be super class of RestClient\n        // but fucking js cannot into callable objects, so...\n        // After this call all resource methods will be defined\n        // on current RestClient instance (this behaviour affected by last parameter)\n        // At least this parameters are symmetric :D\n        resource(this, undefined, '', undefined, this);\n    }\n\n    conf(options={}) {\n        let currentOptions = this._opts || {\n            transport: 'default',\n            trailing: '',\n            shortcut: true,\n            shortcutRules: [],\n            mergeParams: true,\n            errorInstances: true,\n            contentType: 'application/json',\n            'application/x-www-form-urlencoded': {encode: encodeUrl},\n            'application/json': {encode: JSON.stringify, decode: JSON.parse}\n        };\n\n        this._opts = Object.assign(currentOptions, options);\n\n        return Object.assign({}, this._opts);\n    }\n    \n    extend(definition, match) {\n        const client = this;\n        let fn = (resource, parent, name, id) => true;\n        if (typeof match === 'string') {\n            fn = (resource, parent, name, id) => name === match;\n        } else if (match instanceof RegExp) {\n            fn = (resource, parent, name, id) => match.test(name);\n        } else if (match === 'function') {\n            fn = (resource, parent, name, id) => match.call(client, resource, parent, name, id);\n        }\n        this.on('resource', (resource, parent, name, id) => {\n            if (fn(resource, parent, name, id)) {\n                resource.extend(definition);\n            }\n        });\n    }\n\n    _request(method, url, data=null, headers={}, contentType=null) {\n        if (url.indexOf('?') === -1) {\n            url += this._opts.trailing;\n        } else {\n            url = url.replace('?', this._opts.trailing + '?');\n        }\n        \n        if (contentType) {\n            let mime = this._opts[contentType];\n            if (mime && mime.encode)\n                data = safe(mime.encode, data);\n            if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData'))\n                headers['Content-Type'] = contentType;\n        }\n        \n        let parameters = {\n            method: method,\n            data: data,\n            url: this.host + url,\n            contentType: contentType,\n            headers: headers\n        };\n        \n        const transport = RestClient.Transports[this._opts.transport];\n        return transport(this, parameters, this._opts);\n    }\n}\n\nfunction resource(client, parent, name, id, ctx, baseParams = {}, paramsFn) {\n    let self = ctx ? ctx : (newId, params) => {\n        if (typeof newId === 'object') {\n            params = Object.assign({}, newId);\n            newId = undefined;\n        } else if (newId === undefined) {\n            return self;\n        }\n        return self._clone(parent, newId, undefined, params);\n    };\n    \n    if (parent === self) parent = undefined;\n    \n    self._resources = {};\n    self._shortcuts = {};\n    self._parent = parent;\n    self._headers = {};\n    self._params = {};\n    \n    self._clone = (parent, newId, prefix, params, fn) => {\n        let merged = Object.assign({}, baseParams, params);\n        let copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n        copy._shortcuts = self._shortcuts;\n        for (let resName in self._resources) {\n            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n            if (resName in copy._shortcuts)\n                copy[resName] = copy._resources[resName];\n        }\n        return copy;\n    };\n\n    self.res = (resources, shortcut=client._opts.shortcut, params, paramsFn) => {\n        let makeRes = (resName) => {\n            let options = {};\n            let _params = Object.assign({}, params);\n            if (typeof resName === 'object' && typeof resName.name === 'string') {\n                options = Object.assign(options, resName);\n                resName = options.name;\n                if (options.shortcut !== undefined) shortcut = options.shortcut;\n                _params = Object.assign({}, options.params, _params);\n                paramsFn = options.paramsFn || paramsFn;\n            }\n            \n            if (resName in self._resources)\n                return self._resources[resName];\n            \n            let r = resource(client, self, resName, undefined, undefined, _params, paramsFn);\n            \n            self._resources[resName] = r;\n            if (shortcut) {\n                let shortcutName = typeof shortcut === 'string' ? shortcut : resName;\n                self._shortcuts[shortcutName] = r;\n                self[shortcutName] = r;\n                client._opts.shortcutRules.forEach(rule => {\n                    let customShortcut = rule(resName);\n                    if (customShortcut && typeof customShortcut === 'string') {\n                        self._shortcuts[customShortcut] = r;\n                        self[customShortcut] = r;\n                    }\n                });\n            }\n            \n            if (options.resources) r.res(options.resources); // Nested\n            \n            return r;\n        };\n\n        // (resources instanceof String) don't work. Fuck you, javascript.\n        if (resources.constructor === String)\n            return makeRes(resources);\n\n        if (resources instanceof Array)\n            return resources.map(makeRes);\n\n        if (resources instanceof Object) {\n            let res = {};\n            for (let resName in resources) {\n                let r = makeRes(resName);\n                if (resources[resName]) {\n                    r.res(resources[resName]);\n                }\n                res[resName] = r;\n            }\n            return res;\n        }\n    };\n\n    self.execute = (method, data, params, headers, contentType = client._opts.contentType) => {\n        if (typeof headers === 'string') {\n            contentType = headers;\n            headers = {};\n        } else if (typeof params === 'string') {\n            contentType = params;\n            params = {};\n        }\n        let url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n        headers = Object.assign({}, self.getHeaders(), headers);\n        return client._request(method, url, data, headers, contentType);\n    };\n\n    self._execute = (method, args) => {\n        return self.execute.apply(self, [method].concat(args));\n    };\n    \n    self.baseUrl = function() {\n        let url = parent ? parent.baseUrl() : '';\n        if (name) url += '/' + name;\n        if (id !== undefined) url += '/' + id;\n        return url;\n    };\n\n    self.url = (...args) => {\n        let url = self.baseUrl();\n        let params = [self.getParams()].concat(args);\n        \n        if (client._opts.mergeParams) {\n            const keys = [];\n            let index = 0;\n            const urlParams = mergeParams(params);\n            url = url.replace(/\\/?[:\\*](\\w+)/g, function (segment, key) {\n                index += 1; // always increment\n                const value = urlParams[key] || urlParams[index];\n                const blank = isUndefined(value) || isNull(value);\n                if (!blank) keys.push(key);\n                if (url.indexOf(segment) === 0 && !blank) {\n                    return encodeURIComponent(value);\n                } else if (!blank) {\n                    return '/' + encodeURIComponent(value);\n                } else {\n                    return '';\n                }\n            });\n            params = [omit(urlParams, keys)];\n        }\n        \n        const query = params.filter(filterParams).map((param) => {\n            client.emit('params', param, self, parent, name, id);\n            return encodeUrl(param);\n        }).join('&');\n        if (query) url += '?' + query;\n        return url;\n    };\n    \n    self.use = (...args) => {\n        const resName = args.shift();\n        let resource;\n        if (Array.isArray(resName) || typeof resName === 'number') {\n            resource = self.apply(self, [].concat(resName));\n        } else {\n            resource = self[resName];\n        }\n        if (typeof resource === 'function' &&\n            typeof resource.use === 'function' && args.length > 0) {\n            return resource.use.apply(resource, args);\n        } else {\n            return resource;\n        }\n    };\n    \n    self.id = (id) => {\n        return self(id);\n    },\n    \n    self.scope = (...args) => {\n        let params = {};\n        let fn;\n        if (typeof args[args.length - 1] === 'function') {\n            fn = args.pop();\n        }\n        if (typeof args[args.length - 1] === 'object') {\n            Object.assign(params, args.pop());\n        }\n        args = [].concat(...args);\n        let path = args.filter(filterParams).map(function(segment) {\n            if (typeof segment === 'string' && segment.match(/^:/)) {\n                return segment;\n            } else {\n                return encodeURIComponent(segment);\n            }\n        }).join('/');\n        if (path === '') {\n            return self._clone(parent, id, undefined, params, fn);\n        } else {\n            return self._clone(self, undefined, path, params, fn);\n        }\n    };\n    \n    self.setParams = self.param = self.params = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._params, key);\n        } else if (typeof key === 'string') {\n            self._params[key] = value;\n        }\n        return self;\n    };\n    \n    self.getParams = () => {\n        const _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n        return Object.assign({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n    };\n    \n    self.setHeaders = self.header = self.headers = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._headers, key);\n        } else if (typeof key === 'string') {\n            self._headers[key] = value;\n        }\n        return self;\n    };\n    \n    self.getHeaders = () => {\n        return Object.assign({}, parent ? parent.getHeaders() : {}, self._headers);\n    };\n\n    if (!self.extend) {\n        self.extend = (definition) => {\n            if (typeof definition === 'object') {\n                extendObject(self, definition);\n            } else if (typeof definition === 'function') {\n                const def = definition(self, parent, name, id);\n                if (def) extendObject(self, typeof def === 'object' ? def : {});\n            }\n        };\n    }\n\n    // HTTP methods\n\n    self.get = (...args) => {\n        return self.execute('GET', {}, args);\n    };\n\n    self.post = (...args) => {\n        return self._execute('POST', args);\n    };\n\n    self.put = (...args) => {\n        return self._execute('PUT', args);\n    };\n\n    self.patch = (...args) => {\n        return self._execute('PATCH', args);\n    };\n\n    self.delete = (...args) => {\n        return self._execute('DELETE', args);\n    };\n    \n    client.emit('resource', self, parent, name, id);\n    \n    return self;\n}\n\nmodule.exports = RestClient;\n\n// Transports\n\nRestClient.Transports = {};\n\nRestClient.Transports['default'] = function(client, parameters, options = {}) {\n    let { method, data, url, headers } = parameters;\n    \n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    \n    for (let k in headers) {\n        xhr.setRequestHeader(k, headers[k]);\n    }\n\n    let p = new Promise((resolve, reject) =>\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                handleResponse(client, p, xhr, parameters, options, resolve, reject);\n            }\n        }\n    );\n    \n    p.xhr = xhr;\n    new Events(p);\n    \n    setTimeout(() => {\n        client.emit('request', xhr, parameters);\n        p.emit('request', xhr, parameters);\n        xhr.send(data);\n    }, 0);\n    \n    return p;\n};\n\nRestClient.Transports['jquery'] = function(client, parameters, options = {}) {\n    let xhr = $[options.jqueryAjax || 'ajax'](Object.assign({\n        beforeSend: function(xhr) {\n            client.emit('request', xhr, parameters);\n            p.emit('request', xhr, parameters);\n        }\n    }, parameters));\n    \n    let p = new Promise((resolve, reject) => {\n        p.xhr = xhr;\n        new Events(p);\n        xhr.done(function(data, textStatus, xhr) {\n            handleResponse(client, p, xhr, parameters, options, resolve, reject, data);\n        }).fail(function(xhr, textStatus, errorThrown) {\n            handleResponseFail(client, p, xhr, parameters, options, resolve, reject, true);\n        });\n    });\n    \n    return p;\n};\n\n// Helpers\n\nfunction parseResponse(response, client, p, xhr, parameters, options, resolve, reject) {\n    let res = response || xhr.responseText;\n    let responseHeader = xhr.getResponseHeader('Content-Type');\n    if (responseHeader) {\n        let responseContentType = responseHeader.split(';')[0];\n        let mime = options[responseContentType];\n        if (mime && mime.decode) {\n            safe(mime.decode, res, function(err, res) {\n                err ? reject(Object.assign(err, { xhr })) : resolve(res);\n            });\n            return;\n        }\n    }\n    resolve(res);\n};\n\nfunction handleResponse(client, p, xhr, parameters, options, resolve, reject, response) {\n    client.emit('response', xhr, parameters);\n    p.emit('response', xhr, parameters);\n    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n        client.emit('success', xhr, parameters);\n        p.emit('success', xhr, parameters);\n        p.off();\n        parseResponse(response, client, p, xhr, parameters, options, resolve, reject);\n    } else {\n        handleResponseFail(client, p, xhr, parameters, options, resolve, reject);\n    }\n};\n\nfunction handleResponseFail(client, p, xhr, parameters, options, resolve, reject, responseEvent) {\n    if (responseEvent) {\n        client.emit('response', xhr, parameters);\n        p.emit('response', xhr, parameters);\n    }\n    client.emit('error', xhr, parameters);\n    p.emit('error', xhr, parameters);\n    p.off();\n    if (client._opts.errorInstances) {\n        new Promise(function(succes, fail) {\n            parseResponse(null, client, p, xhr, parameters, options, succes, fail);\n        }).then(function(res) {\n            let error = new Error('Request failed.');\n            if (typeof res === 'object') {\n                if (typeof res.error === 'object' && typeof res.error.message === 'string') {\n                    error = new Error(res.error.message);\n                }\n                error.details = res;\n            }\n            error.xhr = xhr;\n            reject(error, parameters);\n        }, function(err) {\n            reject(err, parameters);\n        });\n    } else {\n        reject(xhr, parameters);\n    }\n};\n\nfunction isNull(value) {\n    return value === null && typeof value === 'object';\n};\n\nfunction isUndefined(value) {\n    return typeof value === 'undefined';\n};\n\nfunction omit(obj, ...keysToOmit) {\n    keysToOmit = [].concat(...keysToOmit);\n    return Object.keys(obj).reduce((acc, key) => {\n        if (keysToOmit.indexOf(key) === -1) acc[key] = obj[key];\n        return acc;\n    }, {});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest-client.js","module.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/minivents/dist/minivents.commonjs.min.js\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}