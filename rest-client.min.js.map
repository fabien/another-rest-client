{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///rest-client.min.js","webpack:///webpack/bootstrap add92134ac6417f7b122?51ee","webpack:///./src/rest-client.js?6f35","webpack:///./~/minivents/dist/minivents.commonjs.min.js?7f72"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","encodeUrl","data","res","k","encodeURIComponent","substr","length","safe","func","callback","value","e","console","error","name","log","mergeParams","params","merged","forEach","param","_typeof","_extends","filterParams","Object","keys","undefined","extendObject","target","object","bindFn","context","apply","arguments","resource","client","parent","ctx","baseParams","paramsFn","self","newId","_clone","_resources","_shortcuts","_parent","_headers","_params","prefix","fn","copy","resName","resources","shortcut","_opts","makeRes","options","r","shortcutName","shortcutRules","rule","customShortcut","constructor","String","Array","map","execute","method","headers","contentType","url","isArray","getHeaders","_request","_execute","args","concat","baseUrl","_len","_key","getParams","query","filter","emit","join","use","_len2","_key2","shift","scope","_len3","_key3","pop","path","setParams","key","setHeaders","header","extend","definition","def","get","_len4","_key4","post","_len5","_key5","put","_len6","_key6","patch","_len7","_key7","delete","_len8","_key8","parseResponse","response","xhr","parameters","resolve","reject","responseText","responseHeader","getResponseHeader","responseContentType","split","mime","decode","err","handleResponse","status","off","handleResponseFail","responseEvent","errorInstances","Promise","succes","fail","then","Error","message","details","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","assign","source","hasOwnProperty","Symbol","iterator","_minivents","_minivents2","RestClient","host","conf","currentOptions","transport","trailing","application/x-www-form-urlencoded","encode","application/json","JSON","stringify","parse","match","RegExp","test","on","indexOf","replace","Transports","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","setTimeout","send","$","jqueryAjax","beforeSend","done","textStatus","errorThrown","n","t","l","push","o","u","splice","slice"],"mappings":"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","file":"rest-client.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RestClient\"] = factory();\n\telse\n\t\troot[\"RestClient\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _minivents = __webpack_require__(1);\n\t\n\tvar _minivents2 = _interopRequireDefault(_minivents);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction encodeUrl(data) {\n\t    var res = '';\n\t    for (var k in data) {\n\t        res += encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) + '&';\n\t    }return res.substr(0, res.length - 1);\n\t}\n\t\n\tfunction safe(func, data, callback) {\n\t    try {\n\t        var value = func(data);\n\t        if (typeof callback === 'function') callback(null, value);\n\t        return value;\n\t    } catch (e) {\n\t        if (typeof callback === 'function') {\n\t            callback(e);\n\t        } else {\n\t            console.error('Error in function \"' + func.name + '\" while decode/encode data');\n\t            console.log(func);\n\t            console.log(data);\n\t            console.log(e);\n\t        }\n\t        return data;\n\t    }\n\t}\n\t\n\tfunction mergeParams(params) {\n\t    var merged = {};\n\t    params.forEach(function (param) {\n\t        if ((typeof param === 'undefined' ? 'undefined' : _typeof(param)) === 'object') {\n\t            _extends(merged, param);\n\t        }\n\t    });\n\t    return [merged];\n\t}\n\t\n\tfunction filterParams(value) {\n\t    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t        return Object.keys(value).length !== 0;\n\t    } else {\n\t        return value !== undefined;\n\t    }\n\t}\n\t\n\tfunction extendObject(target, object) {\n\t    for (var k in object) {\n\t        if (typeof object[k] === 'function') {\n\t            target[k] = bindFn(object[k], target);\n\t        } else {\n\t            target[k] = object[k];\n\t        }\n\t    }\n\t}\n\t\n\tfunction bindFn(func, context) {\n\t    return function () {\n\t        return func.apply(context, arguments);\n\t    };\n\t}\n\t\n\tvar RestClient = function () {\n\t    function RestClient(host, options) {\n\t        _classCallCheck(this, RestClient);\n\t\n\t        this.host = host;\n\t        this.conf(options);\n\t\n\t        new _minivents2.default(this);\n\t\n\t        // resource must be super class of RestClient\n\t        // but fucking js cannot into callable objects, so...\n\t        // After this call all resource methods will be defined\n\t        // on current RestClient instance (this behaviour affected by last parameter)\n\t        // At least this parameters are symmetric :D\n\t        resource(this, undefined, '', undefined, this);\n\t    }\n\t\n\t    _createClass(RestClient, [{\n\t        key: 'conf',\n\t        value: function conf() {\n\t            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            var currentOptions = this._opts || {\n\t                transport: 'default',\n\t                trailing: '',\n\t                shortcut: true,\n\t                shortcutRules: [],\n\t                mergeParams: true,\n\t                errorInstances: true,\n\t                contentType: 'application/json',\n\t                'application/x-www-form-urlencoded': { encode: encodeUrl },\n\t                'application/json': { encode: JSON.stringify, decode: JSON.parse }\n\t            };\n\t\n\t            this._opts = _extends(currentOptions, options);\n\t\n\t            return _extends({}, this._opts);\n\t        }\n\t    }, {\n\t        key: 'extend',\n\t        value: function extend(definition, match) {\n\t            var client = this;\n\t            var fn = function fn(resource, parent, name, id) {\n\t                return true;\n\t            };\n\t            if (typeof match === 'string') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return name === match;\n\t                };\n\t            } else if (match instanceof RegExp) {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.test(name);\n\t                };\n\t            } else if (match === 'function') {\n\t                fn = function fn(resource, parent, name, id) {\n\t                    return match.call(client, resource, parent, name, id);\n\t                };\n\t            }\n\t            this.on('resource', function (resource, parent, name, id) {\n\t                if (fn(resource, parent, name, id)) {\n\t                    resource.extend(definition);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: '_request',\n\t        value: function _request(method, url) {\n\t            var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t            var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\t            var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\t\n\t            if (url.indexOf('?') === -1) {\n\t                url += this._opts.trailing;\n\t            } else {\n\t                url = url.replace('?', this._opts.trailing + '?');\n\t            }\n\t\n\t            if (contentType) {\n\t                var mime = this._opts[contentType];\n\t                if (mime && mime.encode) data = safe(mime.encode, data);\n\t                if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData')) headers['Content-Type'] = contentType;\n\t            }\n\t\n\t            var parameters = {\n\t                method: method,\n\t                data: data,\n\t                url: this.host + url,\n\t                contentType: contentType,\n\t                headers: headers\n\t            };\n\t\n\t            var transport = RestClient.Transports[this._opts.transport];\n\t            return transport(this, parameters, this._opts);\n\t        }\n\t    }]);\n\t\n\t    return RestClient;\n\t}();\n\t\n\tfunction resource(client, parent, name, id, ctx) {\n\t    var baseParams = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\t    var paramsFn = arguments[6];\n\t\n\t    var self = ctx ? ctx : function (newId, params) {\n\t        if ((typeof newId === 'undefined' ? 'undefined' : _typeof(newId)) === 'object') {\n\t            params = _extends({}, newId);\n\t            newId = undefined;\n\t        } else if (newId === undefined) {\n\t            return self;\n\t        }\n\t        return self._clone(parent, newId, undefined, params);\n\t    };\n\t\n\t    self._resources = {};\n\t    self._shortcuts = {};\n\t    self._parent = parent;\n\t    self._headers = {};\n\t    self._params = {};\n\t\n\t    self._clone = function (parent, newId, prefix, params, fn) {\n\t        var merged = _extends({}, baseParams, params);\n\t        var copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n\t        copy._shortcuts = self._shortcuts;\n\t        for (var resName in self._resources) {\n\t            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n\t            if (resName in copy._shortcuts) copy[resName] = copy._resources[resName];\n\t        }\n\t        return copy;\n\t    };\n\t\n\t    self.res = function (resources) {\n\t        var shortcut = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : client._opts.shortcut;\n\t        var params = arguments[2];\n\t        var paramsFn = arguments[3];\n\t\n\t        var makeRes = function makeRes(resName) {\n\t            var options = {};\n\t            var _params = _extends({}, params);\n\t            if ((typeof resName === 'undefined' ? 'undefined' : _typeof(resName)) === 'object' && typeof resName.name === 'string') {\n\t                options = _extends(options, resName);\n\t                resName = options.name;\n\t                if (options.shortcut !== undefined) shortcut = options.shortcut;\n\t                _params = _extends({}, options.params, _params);\n\t                paramsFn = options.paramsFn || paramsFn;\n\t            }\n\t\n\t            if (resName in self._resources) return self._resources[resName];\n\t\n\t            var r = resource(client, self, resName, undefined, undefined, _params, paramsFn);\n\t\n\t            self._resources[resName] = r;\n\t            if (shortcut) {\n\t                var shortcutName = typeof shortcut === 'string' ? shortcut : resName;\n\t                self._shortcuts[shortcutName] = r;\n\t                self[shortcutName] = r;\n\t                client._opts.shortcutRules.forEach(function (rule) {\n\t                    var customShortcut = rule(resName);\n\t                    if (customShortcut && typeof customShortcut === 'string') {\n\t                        self._shortcuts[customShortcut] = r;\n\t                        self[customShortcut] = r;\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (options.resources) r.res(options.resources); // Nested\n\t\n\t            return r;\n\t        };\n\t\n\t        // (resources instanceof String) don't work. Fuck you, javascript.\n\t        if (resources.constructor === String) return makeRes(resources);\n\t\n\t        if (resources instanceof Array) return resources.map(makeRes);\n\t\n\t        if (resources instanceof Object) {\n\t            var res = {};\n\t            for (var resName in resources) {\n\t                var r = makeRes(resName);\n\t                if (resources[resName]) {\n\t                    r.res(resources[resName]);\n\t                }\n\t                res[resName] = r;\n\t            }\n\t            return res;\n\t        }\n\t    };\n\t\n\t    self.execute = function (method, data, params, headers) {\n\t        var contentType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : client._opts.contentType;\n\t\n\t        if (typeof headers === 'string') {\n\t            contentType = headers;\n\t            headers = {};\n\t        } else if (typeof params === 'string') {\n\t            contentType = params;\n\t            params = {};\n\t        }\n\t        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n\t        headers = _extends({}, self.getHeaders(), headers);\n\t        return client._request(method, url, data, headers, contentType);\n\t    };\n\t\n\t    self._execute = function (method, args) {\n\t        return self.execute.apply(self, [method].concat(args));\n\t    };\n\t\n\t    self.baseUrl = function () {\n\t        var url = parent ? parent.baseUrl() : '';\n\t        if (name) url += '/' + name;\n\t        if (id !== undefined) url += '/' + id;\n\t        return url;\n\t    };\n\t\n\t    self.url = function () {\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        var url = self.baseUrl();\n\t        var params = [self.getParams()].concat(args);\n\t        if (client._opts.mergeParams) params = mergeParams(params);\n\t        var query = params.filter(filterParams).map(function (param) {\n\t            client.emit('params', param, self, parent, name, id);\n\t            return encodeUrl(param);\n\t        }).join('&');\n\t        if (query) url += '?' + query;\n\t        return url;\n\t    };\n\t\n\t    self.use = function () {\n\t        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t            args[_key2] = arguments[_key2];\n\t        }\n\t\n\t        var resName = args.shift();\n\t        var resource = void 0;\n\t        if (Array.isArray(resName) || typeof resName === 'number') {\n\t            resource = self.apply(self, [].concat(resName));\n\t        } else {\n\t            resource = self[resName];\n\t        }\n\t        if (typeof resource === 'function' && typeof resource.use === 'function' && args.length > 0) {\n\t            return resource.use.apply(resource, args);\n\t        } else {\n\t            return resource;\n\t        }\n\t    };\n\t\n\t    self.id = function (id) {\n\t        return self(id);\n\t    }, self.scope = function () {\n\t        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t            args[_key3] = arguments[_key3];\n\t        }\n\t\n\t        var params = {};\n\t        var fn = void 0;\n\t        if (typeof args[args.length - 1] === 'function') {\n\t            fn = args.pop();\n\t        }\n\t        if (_typeof(args[args.length - 1]) === 'object') {\n\t            _extends(params, args.pop());\n\t        }\n\t        var path = args.filter(filterParams).map(encodeURIComponent).join('/');\n\t        if (path === '') {\n\t            return self._clone(parent, id, undefined, params, fn);\n\t        } else {\n\t            return self._clone(self, undefined, path, params, fn);\n\t        }\n\t    };\n\t\n\t    self.setParams = self.param = self.params = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._params, key);\n\t        } else if (typeof key === 'string') {\n\t            self._params[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getParams = function () {\n\t        var _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n\t        return _extends({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n\t    };\n\t\n\t    self.setHeaders = self.header = self.headers = function (key, value) {\n\t        if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t            _extends(self._headers, key);\n\t        } else if (typeof key === 'string') {\n\t            self._headers[key] = value;\n\t        }\n\t        return self;\n\t    };\n\t\n\t    self.getHeaders = function () {\n\t        return _extends({}, parent ? parent.getHeaders() : {}, self._headers);\n\t    };\n\t\n\t    if (!self.extend) {\n\t        self.extend = function (definition) {\n\t            if ((typeof definition === 'undefined' ? 'undefined' : _typeof(definition)) === 'object') {\n\t                extendObject(self, definition);\n\t            } else if (typeof definition === 'function') {\n\t                var def = definition(self, parent, name, id);\n\t                if (def) extendObject(self, (typeof def === 'undefined' ? 'undefined' : _typeof(def)) === 'object' ? def : {});\n\t            }\n\t        };\n\t    }\n\t\n\t    // HTTP methods\n\t\n\t    self.get = function () {\n\t        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n\t            args[_key4] = arguments[_key4];\n\t        }\n\t\n\t        return self.execute('GET', {}, args);\n\t    };\n\t\n\t    self.post = function () {\n\t        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n\t            args[_key5] = arguments[_key5];\n\t        }\n\t\n\t        return self._execute('POST', args);\n\t    };\n\t\n\t    self.put = function () {\n\t        for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n\t            args[_key6] = arguments[_key6];\n\t        }\n\t\n\t        return self._execute('PUT', args);\n\t    };\n\t\n\t    self.patch = function () {\n\t        for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n\t            args[_key7] = arguments[_key7];\n\t        }\n\t\n\t        return self._execute('PATCH', args);\n\t    };\n\t\n\t    self.delete = function () {\n\t        for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n\t            args[_key8] = arguments[_key8];\n\t        }\n\t\n\t        return self._execute('DELETE', args);\n\t    };\n\t\n\t    client.emit('resource', self, parent, name, id);\n\t\n\t    return self;\n\t}\n\t\n\tmodule.exports = RestClient;\n\t\n\t// Transports\n\t\n\tRestClient.Transports = {};\n\t\n\tRestClient.Transports['default'] = function (client, parameters) {\n\t    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t    var method = parameters.method,\n\t        data = parameters.data,\n\t        url = parameters.url,\n\t        headers = parameters.headers;\n\t\n\t\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open(method, url, true);\n\t\n\t    for (var k in headers) {\n\t        xhr.setRequestHeader(k, headers[k]);\n\t    }\n\t\n\t    var p = new Promise(function (resolve, reject) {\n\t        return xhr.onreadystatechange = function () {\n\t            if (xhr.readyState === 4) {\n\t                handleResponse(client, p, xhr, parameters, options, resolve, reject);\n\t            }\n\t        };\n\t    });\n\t\n\t    p.xhr = xhr;\n\t    new _minivents2.default(p);\n\t\n\t    setTimeout(function () {\n\t        client.emit('request', xhr, parameters);\n\t        p.emit('request', xhr, parameters);\n\t        xhr.send(data);\n\t    }, 0);\n\t\n\t    return p;\n\t};\n\t\n\tRestClient.Transports['jquery'] = function (client, parameters) {\n\t    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t    var xhr = $[options.jqueryAjax || 'ajax'](_extends({\n\t        beforeSend: function beforeSend(xhr) {\n\t            client.emit('request', xhr, parameters);\n\t            p.emit('request', xhr, parameters);\n\t        }\n\t    }, parameters));\n\t\n\t    var p = new Promise(function (resolve, reject) {\n\t        p.xhr = xhr;\n\t        new _minivents2.default(p);\n\t        xhr.done(function (data, textStatus, xhr) {\n\t            handleResponse(client, p, xhr, parameters, options, resolve, reject, data);\n\t        }).fail(function (xhr, textStatus, errorThrown) {\n\t            handleResponseFail(client, p, xhr, parameters, options, resolve, reject, true);\n\t        });\n\t    });\n\t\n\t    return p;\n\t};\n\t\n\t// Helpers\n\t\n\tfunction parseResponse(response, client, p, xhr, parameters, options, resolve, reject) {\n\t    var res = response || xhr.responseText;\n\t    var responseHeader = xhr.getResponseHeader('Content-Type');\n\t    if (responseHeader) {\n\t        var responseContentType = responseHeader.split(';')[0];\n\t        var mime = options[responseContentType];\n\t        if (mime && mime.decode) {\n\t            safe(mime.decode, res, function (err, res) {\n\t                err ? reject(_extends(err, { xhr: xhr })) : resolve(res);\n\t            });\n\t            return;\n\t        }\n\t    }\n\t    resolve(res);\n\t};\n\t\n\tfunction handleResponse(client, p, xhr, parameters, options, resolve, reject, response) {\n\t    client.emit('response', xhr, parameters);\n\t    p.emit('response', xhr, parameters);\n\t    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n\t        client.emit('success', xhr, parameters);\n\t        p.emit('success', xhr, parameters);\n\t        p.off();\n\t        parseResponse(response, client, p, xhr, parameters, options, resolve, reject);\n\t    } else {\n\t        handleResponseFail(client, p, xhr, parameters, options, resolve, reject);\n\t    }\n\t};\n\t\n\tfunction handleResponseFail(client, p, xhr, parameters, options, resolve, reject, responseEvent) {\n\t    if (responseEvent) {\n\t        client.emit('response', xhr, parameters);\n\t        p.emit('response', xhr, parameters);\n\t    }\n\t    client.emit('error', xhr, parameters);\n\t    p.emit('error', xhr, parameters);\n\t    p.off();\n\t    if (client._opts.errorInstances) {\n\t        new Promise(function (succes, fail) {\n\t            parseResponse(null, client, p, xhr, parameters, options, succes, fail);\n\t        }).then(function (res) {\n\t            var error = new Error('Request failed.');\n\t            if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) === 'object') {\n\t                if (_typeof(res.error) === 'object' && typeof res.error.message === 'string') {\n\t                    error = new Error(res.error.message);\n\t                }\n\t                error.details = res;\n\t            }\n\t            error.xhr = xhr;\n\t            reject(error, parameters);\n\t        }, function (err) {\n\t            reject(err, parameters);\n\t        });\n\t    } else {\n\t        reject(xhr, parameters);\n\t    }\n\t};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rest-client.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap add92134ac6417f7b122","import Events from 'minivents'\n\nfunction encodeUrl(data) {\n    let res = '';\n    for (let k in data)\n        res += encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) + '&';\n    return res.substr(0, res.length - 1);\n}\n\nfunction safe(func, data, callback) {\n    try {\n        let value = func(data);\n        if (typeof callback === 'function') callback(null, value);\n        return value;\n    }\n    catch(e) {\n        if (typeof callback === 'function') {\n            callback(e);\n        } else {\n            console.error('Error in function \"' + func.name + '\" while decode/encode data');\n            console.log(func);\n            console.log(data);\n            console.log(e);\n        }\n        return data;\n    }\n}\n\nfunction mergeParams(params) {\n    let merged = {};\n    params.forEach(function(param) {\n        if (typeof param === 'object') {\n            Object.assign(merged, param);\n        }\n    });\n    return [merged];\n}\n\nfunction filterParams(value) {\n    if (typeof value === 'object') {\n        return Object.keys(value).length !== 0;\n    } else {\n        return value !== undefined;\n    }\n}\n\nfunction extendObject(target, object) {\n    for (let k in object) {\n        if (typeof object[k] === 'function') {\n            target[k] = bindFn(object[k], target);\n        } else {\n            target[k] = object[k];\n        }\n    }\n}\n\nfunction bindFn(func, context) {\n    return function() {\n        return func.apply(context, arguments);\n    };\n}\n\nclass RestClient {\n    constructor(host, options) {\n        this.host = host;\n        this.conf(options);\n\n        new Events(this);\n\n        // resource must be super class of RestClient\n        // but fucking js cannot into callable objects, so...\n        // After this call all resource methods will be defined\n        // on current RestClient instance (this behaviour affected by last parameter)\n        // At least this parameters are symmetric :D\n        resource(this, undefined, '', undefined, this);\n    }\n\n    conf(options={}) {\n        let currentOptions = this._opts || {\n            transport: 'default',\n            trailing: '',\n            shortcut: true,\n            shortcutRules: [],\n            mergeParams: true,\n            errorInstances: true,\n            contentType: 'application/json',\n            'application/x-www-form-urlencoded': {encode: encodeUrl},\n            'application/json': {encode: JSON.stringify, decode: JSON.parse}\n        };\n\n        this._opts = Object.assign(currentOptions, options);\n\n        return Object.assign({}, this._opts);\n    }\n    \n    extend(definition, match) {\n        const client = this;\n        let fn = (resource, parent, name, id) => true;\n        if (typeof match === 'string') {\n            fn = (resource, parent, name, id) => name === match;\n        } else if (match instanceof RegExp) {\n            fn = (resource, parent, name, id) => match.test(name);\n        } else if (match === 'function') {\n            fn = (resource, parent, name, id) => match.call(client, resource, parent, name, id);\n        }\n        this.on('resource', (resource, parent, name, id) => {\n            if (fn(resource, parent, name, id)) {\n                resource.extend(definition);\n            }\n        });\n    }\n\n    _request(method, url, data=null, headers={}, contentType=null) {\n        if (url.indexOf('?') === -1) {\n            url += this._opts.trailing;\n        } else {\n            url = url.replace('?', this._opts.trailing + '?');\n        }\n        \n        if (contentType) {\n            let mime = this._opts[contentType];\n            if (mime && mime.encode)\n                data = safe(mime.encode, data);\n            if (!(contentType === 'multipart/form-data' && data.constructor.name === 'FormData'))\n                headers['Content-Type'] = contentType;\n        }\n        \n        let parameters = {\n            method: method,\n            data: data,\n            url: this.host + url,\n            contentType: contentType,\n            headers: headers\n        };\n        \n        const transport = RestClient.Transports[this._opts.transport];\n        return transport(this, parameters, this._opts);\n    }\n}\n\nfunction resource(client, parent, name, id, ctx, baseParams = {}, paramsFn) {\n    let self = ctx ? ctx : (newId, params) => {\n        if (typeof newId === 'object') {\n            params = Object.assign({}, newId);\n            newId = undefined;\n        } else if (newId === undefined) {\n            return self;\n        }\n        return self._clone(parent, newId, undefined, params);\n    };\n    \n    self._resources = {};\n    self._shortcuts = {};\n    self._parent = parent;\n    self._headers = {};\n    self._params = {};\n    \n    self._clone = (parent, newId, prefix, params, fn) => {\n        let merged = Object.assign({}, baseParams, params);\n        let copy = resource(client, parent, prefix || name, newId, ctx, merged, fn);\n        copy._shortcuts = self._shortcuts;\n        for (let resName in self._resources) {\n            copy._resources[resName] = self._resources[resName]._clone(copy, undefined, undefined, params, fn);\n            if (resName in copy._shortcuts)\n                copy[resName] = copy._resources[resName];\n        }\n        return copy;\n    };\n\n    self.res = (resources, shortcut=client._opts.shortcut, params, paramsFn) => {\n        let makeRes = (resName) => {\n            let options = {};\n            let _params = Object.assign({}, params);\n            if (typeof resName === 'object' && typeof resName.name === 'string') {\n                options = Object.assign(options, resName);\n                resName = options.name;\n                if (options.shortcut !== undefined) shortcut = options.shortcut;\n                _params = Object.assign({}, options.params, _params);\n                paramsFn = options.paramsFn || paramsFn;\n            }\n            \n            if (resName in self._resources)\n                return self._resources[resName];\n            \n            let r = resource(client, self, resName, undefined, undefined, _params, paramsFn);\n            \n            self._resources[resName] = r;\n            if (shortcut) {\n                let shortcutName = typeof shortcut === 'string' ? shortcut : resName;\n                self._shortcuts[shortcutName] = r;\n                self[shortcutName] = r;\n                client._opts.shortcutRules.forEach(rule => {\n                    let customShortcut = rule(resName);\n                    if (customShortcut && typeof customShortcut === 'string') {\n                        self._shortcuts[customShortcut] = r;\n                        self[customShortcut] = r;\n                    }\n                });\n            }\n            \n            if (options.resources) r.res(options.resources); // Nested\n            \n            return r;\n        };\n\n        // (resources instanceof String) don't work. Fuck you, javascript.\n        if (resources.constructor === String)\n            return makeRes(resources);\n\n        if (resources instanceof Array)\n            return resources.map(makeRes);\n\n        if (resources instanceof Object) {\n            let res = {};\n            for (let resName in resources) {\n                let r = makeRes(resName);\n                if (resources[resName]) {\n                    r.res(resources[resName]);\n                }\n                res[resName] = r;\n            }\n            return res;\n        }\n    };\n\n    self.execute = (method, data, params, headers, contentType = client._opts.contentType) => {\n        if (typeof headers === 'string') {\n            contentType = headers;\n            headers = {};\n        } else if (typeof params === 'string') {\n            contentType = params;\n            params = {};\n        }\n        var url = Array.isArray(params) ? self.url.apply(self, params) : self.url(params);\n        headers = Object.assign({}, self.getHeaders(), headers);\n        return client._request(method, url, data, headers, contentType);\n    };\n\n    self._execute = (method, args) => {\n        return self.execute.apply(self, [method].concat(args));\n    };\n    \n    self.baseUrl = function() {\n        let url = parent ? parent.baseUrl() : '';\n        if (name) url += '/' + name;\n        if (id !== undefined) url += '/' + id;\n        return url;\n    };\n\n    self.url = (...args) => {\n        let url = self.baseUrl();\n        let params = [self.getParams()].concat(args);\n        if (client._opts.mergeParams) params = mergeParams(params);\n        const query = params.filter(filterParams).map((param) => {\n            client.emit('params', param, self, parent, name, id);\n            return encodeUrl(param);\n        }).join('&');\n        if (query) url += '?' + query;\n        return url;\n    };\n    \n    self.use = (...args) => {\n        const resName = args.shift();\n        let resource;\n        if (Array.isArray(resName) || typeof resName === 'number') {\n            resource = self.apply(self, [].concat(resName));\n        } else {\n            resource = self[resName];\n        }\n        if (typeof resource === 'function' &&\n            typeof resource.use === 'function' && args.length > 0) {\n            return resource.use.apply(resource, args);\n        } else {\n            return resource;\n        }\n    };\n    \n    self.id = (id) => {\n        return self(id);\n    },\n    \n    self.scope = (...args) => {\n        let params = {};\n        let fn;\n        if (typeof args[args.length - 1] === 'function') {\n            fn = args.pop();\n        }\n        if (typeof args[args.length - 1] === 'object') {\n            Object.assign(params, args.pop());\n        }\n        let path = args.filter(filterParams).map(encodeURIComponent).join('/');\n        if (path === '') {\n            return self._clone(parent, id, undefined, params, fn);\n        } else {\n            return self._clone(self, undefined, path, params, fn);\n        }\n    };\n    \n    self.setParams = self.param = self.params = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._params, key);\n        } else if (typeof key === 'string') {\n            self._params[key] = value;\n        }\n        return self;\n    };\n    \n    self.getParams = () => {\n        const _params = typeof paramsFn === 'function' ? paramsFn.call(self, parent, name, id) : {};\n        return Object.assign({}, baseParams, parent ? parent.getParams() : {}, self._params, _params);\n    };\n    \n    self.setHeaders = self.header = self.headers = (key, value) => {\n        if (typeof key === 'object') {\n            Object.assign(self._headers, key);\n        } else if (typeof key === 'string') {\n            self._headers[key] = value;\n        }\n        return self;\n    };\n    \n    self.getHeaders = () => {\n        return Object.assign({}, parent ? parent.getHeaders() : {}, self._headers);\n    };\n\n    if (!self.extend) {\n        self.extend = (definition) => {\n            if (typeof definition === 'object') {\n                extendObject(self, definition);\n            } else if (typeof definition === 'function') {\n                const def = definition(self, parent, name, id);\n                if (def) extendObject(self, typeof def === 'object' ? def : {});\n            }\n        };\n    }\n\n    // HTTP methods\n\n    self.get = (...args) => {\n        return self.execute('GET', {}, args);\n    };\n\n    self.post = (...args) => {\n        return self._execute('POST', args);\n    };\n\n    self.put = (...args) => {\n        return self._execute('PUT', args);\n    };\n\n    self.patch = (...args) => {\n        return self._execute('PATCH', args);\n    };\n\n    self.delete = (...args) => {\n        return self._execute('DELETE', args);\n    };\n    \n    client.emit('resource', self, parent, name, id);\n    \n    return self;\n}\n\nmodule.exports = RestClient;\n\n// Transports\n\nRestClient.Transports = {};\n\nRestClient.Transports['default'] = function(client, parameters, options = {}) {\n    let { method, data, url, headers } = parameters;\n    \n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    \n    for (let k in headers) {\n        xhr.setRequestHeader(k, headers[k]);\n    }\n\n    let p = new Promise((resolve, reject) =>\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                handleResponse(client, p, xhr, parameters, options, resolve, reject);\n            }\n        }\n    );\n    \n    p.xhr = xhr;\n    new Events(p);\n    \n    setTimeout(() => {\n        client.emit('request', xhr, parameters);\n        p.emit('request', xhr, parameters);\n        xhr.send(data);\n    }, 0);\n    \n    return p;\n};\n\nRestClient.Transports['jquery'] = function(client, parameters, options = {}) {\n    let xhr = $[options.jqueryAjax || 'ajax'](Object.assign({\n        beforeSend: function(xhr) {\n            client.emit('request', xhr, parameters);\n            p.emit('request', xhr, parameters);\n        }\n    }, parameters));\n    \n    let p = new Promise((resolve, reject) => {\n        p.xhr = xhr;\n        new Events(p);\n        xhr.done(function(data, textStatus, xhr) {\n            handleResponse(client, p, xhr, parameters, options, resolve, reject, data);\n        }).fail(function(xhr, textStatus, errorThrown) {\n            handleResponseFail(client, p, xhr, parameters, options, resolve, reject, true);\n        });\n    });\n    \n    return p;\n};\n\n// Helpers\n\nfunction parseResponse(response, client, p, xhr, parameters, options, resolve, reject) {\n    let res = response || xhr.responseText;\n    let responseHeader = xhr.getResponseHeader('Content-Type');\n    if (responseHeader) {\n        let responseContentType = responseHeader.split(';')[0];\n        let mime = options[responseContentType];\n        if (mime && mime.decode) {\n            safe(mime.decode, res, function(err, res) {\n                err ? reject(Object.assign(err, { xhr })) : resolve(res);\n            });\n            return;\n        }\n    }\n    resolve(res);\n};\n\nfunction handleResponse(client, p, xhr, parameters, options, resolve, reject, response) {\n    client.emit('response', xhr, parameters);\n    p.emit('response', xhr, parameters);\n    if (xhr.status === 200 || xhr.status === 201 || xhr.status === 204) {\n        client.emit('success', xhr, parameters);\n        p.emit('success', xhr, parameters);\n        p.off();\n        parseResponse(response, client, p, xhr, parameters, options, resolve, reject);\n    } else {\n        handleResponseFail(client, p, xhr, parameters, options, resolve, reject);\n    }\n};\n\nfunction handleResponseFail(client, p, xhr, parameters, options, resolve, reject, responseEvent) {\n    if (responseEvent) {\n        client.emit('response', xhr, parameters);\n        p.emit('response', xhr, parameters);\n    }\n    client.emit('error', xhr, parameters);\n    p.emit('error', xhr, parameters);\n    p.off();\n    if (client._opts.errorInstances) {\n        new Promise(function(succes, fail) {\n            parseResponse(null, client, p, xhr, parameters, options, succes, fail);\n        }).then(function(res) {\n            let error = new Error('Request failed.');\n            if (typeof res === 'object') {\n                if (typeof res.error === 'object' && typeof res.error.message === 'string') {\n                    error = new Error(res.error.message);\n                }\n                error.details = res;\n            }\n            error.xhr = xhr;\n            reject(error, parameters);\n        }, function(err) {\n            reject(err, parameters);\n        });\n    } else {\n        reject(xhr, parameters);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest-client.js","module.exports=function(n){var t={},e=[];n=n||this,n.on=function(e,r,l){return(t[e]=t[e]||[]).push([r,l]),n},n.off=function(r,l){r||(t={});for(var o=t[r]||e,u=o.length=l?o.length:0;u--;)l==o[u][0]&&o.splice(u,1);return n},n.emit=function(r){for(var l,o=t[r]||e,u=o.length>0?o.slice(0,o.length):o,i=0;l=u[i++];)l[0].apply(l[1],e.slice.call(arguments,1));return n}};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/minivents/dist/minivents.commonjs.min.js\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}